(()=>{var t={17:(t,e,s)=>{try{var i=s(23);if("function"!=typeof i.inherits)throw"";t.exports=i.inherits}catch(e){t.exports=s(698)}},23:t=>{"use strict";t.exports=require("util")},24:t=>{"use strict";t.exports=require("node:fs")},27:(t,e,s)=>{t.exports=p,p.Minimatch=d;var i=function(){try{return s(928)}catch(t){}}()||{sep:"/"};p.sep=i.sep;var r=p.GLOBSTAR=d.GLOBSTAR={},n=s(547),o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",h=a+"*?",c="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{}),l=/\/+/;function u(t,e){e=e||{};var s={};return Object.keys(t).forEach((function(e){s[e]=t[e]})),Object.keys(e).forEach((function(t){s[t]=e[t]})),s}function p(t,e,s){return g(e),s||(s={}),!(!s.nocomment&&"#"===e.charAt(0))&&new d(e,s).match(t)}function d(t,e){if(!(this instanceof d))return new d(t,e);g(t),e||(e={}),t=t.trim(),e.allowWindowsEscape||"/"===i.sep||(t=t.split(i.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}function f(t,e){return e||(e=this instanceof d?this.options:{}),t=void 0===t?this.pattern:t,g(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:n(t)}p.filter=function(t,e){return e=e||{},function(s,i,r){return p(s,t,e)}},p.defaults=function(t){if(!t||"object"!=typeof t||!Object.keys(t).length)return p;var e=p,s=function(s,i,r){return e(s,i,u(t,r))};return(s.Minimatch=function(s,i){return new e.Minimatch(s,u(t,i))}).defaults=function(s){return e.defaults(u(t,s)).Minimatch},s.filter=function(s,i){return e.filter(s,u(t,i))},s.defaults=function(s){return e.defaults(u(t,s))},s.makeRe=function(s,i){return e.makeRe(s,u(t,i))},s.braceExpand=function(s,i){return e.braceExpand(s,u(t,i))},s.match=function(s,i,r){return e.match(s,i,u(t,r))},s},d.defaults=function(t){return p.defaults(t).Minimatch},d.prototype.debug=function(){},d.prototype.make=function(){var t=this.pattern,e=this.options;if(e.nocomment||"#"!==t.charAt(0))if(t){this.parseNegate();var s=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,s),s=this.globParts=s.map((function(t){return t.split(l)})),this.debug(this.pattern,s),s=s.map((function(t,e,s){return t.map(this.parse,this)}),this),this.debug(this.pattern,s),s=s.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,s),this.set=s}else this.empty=!0;else this.comment=!0},d.prototype.parseNegate=function(){var t=this.pattern,e=!1,s=0;if(!this.options.nonegate){for(var i=0,r=t.length;i<r&&"!"===t.charAt(i);i++)e=!e,s++;s&&(this.pattern=t.substr(s)),this.negate=e}},p.braceExpand=function(t,e){return f(t,e)},d.prototype.braceExpand=f;var g=function(t){if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")};d.prototype.parse=function(t,e){g(t);var s=this.options;if("**"===t){if(!s.noglobstar)return r;t="*"}if(""===t)return"";var i,n="",l=!!s.nocase,u=!1,p=[],d=[],f=!1,y=-1,w=-1,b="."===t.charAt(0)?"":s.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this;function S(){if(i){switch(i){case"*":n+=h,l=!0;break;case"?":n+=a,l=!0;break;default:n+="\\"+i}v.debug("clearStateChar %j %j",i,n),i=!1}}for(var k,E=0,x=t.length;E<x&&(k=t.charAt(E));E++)if(this.debug("%s\t%s %s %j",t,E,n,k),u&&c[k])n+="\\"+k,u=!1;else switch(k){case"/":return!1;case"\\":S(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,E,n,k),f){this.debug("  in class"),"!"===k&&E===w+1&&(k="^"),n+=k;continue}v.debug("call clearStateChar %j",i),S(),i=k,s.noext&&S();continue;case"(":if(f){n+="(";continue}if(!i){n+="\\(";continue}p.push({type:i,start:E-1,reStart:n.length,open:o[i].open,close:o[i].close}),n+="!"===i?"(?:(?!(?:":"(?:",this.debug("plType %j %j",i,n),i=!1;continue;case")":if(f||!p.length){n+="\\)";continue}S(),l=!0;var O=p.pop();n+=O.close,"!"===O.type&&d.push(O),O.reEnd=n.length;continue;case"|":if(f||!p.length||u){n+="\\|",u=!1;continue}S(),n+="|";continue;case"[":if(S(),f){n+="\\"+k;continue}f=!0,w=E,y=n.length,n+=k;continue;case"]":if(E===w+1||!f){n+="\\"+k,u=!1;continue}var _=t.substring(w+1,E);try{RegExp("["+_+"]")}catch(t){var T=this.parse(_,m);n=n.substr(0,y)+"\\["+T[0]+"\\]",l=l||T[1],f=!1;continue}l=!0,f=!1,n+=k;continue;default:S(),u?u=!1:!c[k]||"^"===k&&f||(n+="\\"),n+=k}for(f&&(_=t.substr(w+1),T=this.parse(_,m),n=n.substr(0,y)+"\\["+T[0],l=l||T[1]),O=p.pop();O;O=p.pop()){var A=n.slice(O.reStart+O.open.length);this.debug("setting tail",n,O),A=A.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,s){return s||(s="\\"),e+e+s+"|"})),this.debug("tail=%j\n   %s",A,A,O,n);var M="*"===O.type?h:"?"===O.type?a:"\\"+O.type;l=!0,n=n.slice(0,O.reStart)+M+"\\("+A}S(),u&&(n+="\\\\");var L=!1;switch(n.charAt(0)){case"[":case".":case"(":L=!0}for(var C=d.length-1;C>-1;C--){var P=d[C],N=n.slice(0,P.reStart),j=n.slice(P.reStart,P.reEnd-8),R=n.slice(P.reEnd-8,P.reEnd),F=n.slice(P.reEnd);R+=F;var D=N.split("(").length-1,I=F;for(E=0;E<D;E++)I=I.replace(/\)[+*?]?/,"");var z="";""===(F=I)&&e!==m&&(z="$"),n=N+j+F+z+R}if(""!==n&&l&&(n="(?=.)"+n),L&&(n=b+n),e===m)return[n,l];if(!l)return t.replace(/\\(.)/g,"$1");var B=s.nocase?"i":"";try{var W=new RegExp("^"+n+"$",B)}catch(t){return new RegExp("$.")}return W._glob=t,W._src=n,W};var m={};p.makeRe=function(t,e){return new d(t,e||{}).makeRe()},d.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,s=e.noglobstar?h:e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=e.nocase?"i":"",n=t.map((function(t){return t.map((function(t){return t===r?s:"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t._src})).join("\\/")})).join("|");n="^(?:"+n+")$",this.negate&&(n="^(?!"+n+").*$");try{this.regexp=new RegExp(n,i)}catch(t){this.regexp=!1}return this.regexp},p.match=function(t,e,s){var i=new d(e,s=s||{});return t=t.filter((function(t){return i.match(t)})),i.options.nonull&&!t.length&&t.push(e),t},d.prototype.match=function(t,e){if(void 0===e&&(e=this.partial),this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var s=this.options;"/"!==i.sep&&(t=t.split(i.sep).join("/")),t=t.split(l),this.debug(this.pattern,"split",t);var r,n,o=this.set;for(this.debug(this.pattern,"set",o),n=t.length-1;n>=0&&!(r=t[n]);n--);for(n=0;n<o.length;n++){var a=o[n],h=t;if(s.matchBase&&1===a.length&&(h=[r]),this.matchOne(h,a,e))return!!s.flipNegate||!this.negate}return!s.flipNegate&&this.negate},d.prototype.matchOne=function(t,e,s){var i=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var n=0,o=0,a=t.length,h=e.length;n<a&&o<h;n++,o++){this.debug("matchOne loop");var c,l=e[o],u=t[n];if(this.debug(e,l,u),!1===l)return!1;if(l===r){this.debug("GLOBSTAR",[e,l,u]);var p=n,d=o+1;if(d===h){for(this.debug("** at the end");n<a;n++)if("."===t[n]||".."===t[n]||!i.dot&&"."===t[n].charAt(0))return!1;return!0}for(;p<a;){var f=t[p];if(this.debug("\nglobstar while",t,p,e,d,f),this.matchOne(t.slice(p),e.slice(d),s))return this.debug("globstar found match!",p,a,f),!0;if("."===f||".."===f||!i.dot&&"."===f.charAt(0)){this.debug("dot detected!",t,p,e,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!s||(this.debug("\n>>> no match, partial?",t,p,e,d),p!==a))}if("string"==typeof l?(c=u===l,this.debug("string match",l,u,c)):(c=u.match(l),this.debug("pattern match",l,u,c)),!c)return!1}if(n===a&&o===h)return!0;if(n===a)return s;if(o===h)return n===a-1&&""===t[n];throw new Error("wtf?")}},46:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasMagic=void 0;const i=s(144);e.hasMagic=(t,e={})=>{Array.isArray(t)||(t=[t]);for(const s of t)if(new i.Minimatch(s,e).hasMagic())return!0;return!1}},75:t=>{"use strict";t.exports=require("node:stream")},96:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;const s="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,i=new Set,r="object"==typeof process&&process?process:{},n=(t,e,s,i)=>{"function"==typeof r.emitWarning?r.emitWarning(t,e,s,i):console.error(`[${s}] ${e}: ${t}`)};let o=globalThis.AbortController,a=globalThis.AbortSignal;if(void 0===o){a=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(t,e){this._onabort.push(e)}},o=class{constructor(){e()}signal=new a;abort(t){if(!this.signal.aborted){this.signal.reason=t,this.signal.aborted=!0;for(const e of this.signal._onabort)e(t);this.signal.onabort?.(t)}}};let t="1"!==r.env?.LRU_CACHE_IGNORE_AC_WARNING;const e=()=>{t&&(t=!1,n("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}Symbol("type");const h=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),c=t=>h(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?l:null:null;class l extends Array{constructor(t){super(t),this.fill(0)}}class u{heap;length;static#t=!1;static create(t){const e=c(t);if(!e)return[];u.#t=!0;const s=new u(t,e);return u.#t=!1,s}constructor(t,e){if(!u.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class p{#e;#s;#i;#r;#n;#o;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#a;#h;#c;#l;#u;#p;#d;#f;#g;#m;#y;#w;#b;#v;#S;#k;#E;static unsafeExposeInternals(t){return{starts:t.#b,ttls:t.#v,sizes:t.#w,keyMap:t.#c,keyList:t.#l,valList:t.#u,next:t.#p,prev:t.#d,get head(){return t.#f},get tail(){return t.#g},free:t.#m,isBackgroundFetch:e=>t.#x(e),backgroundFetch:(e,s,i,r)=>t.#O(e,s,i,r),moveToTail:e=>t.#_(e),indexes:e=>t.#T(e),rindexes:e=>t.#A(e),isStale:e=>t.#M(e)}}get max(){return this.#e}get maxSize(){return this.#s}get calculatedSize(){return this.#h}get size(){return this.#a}get fetchMethod(){return this.#n}get memoMethod(){return this.#o}get dispose(){return this.#i}get disposeAfter(){return this.#r}constructor(t){const{max:e=0,ttl:s,ttlResolution:r=1,ttlAutopurge:o,updateAgeOnGet:a,updateAgeOnHas:l,allowStale:d,dispose:f,disposeAfter:g,noDisposeOnSet:m,noUpdateTTL:y,maxSize:w=0,maxEntrySize:b=0,sizeCalculation:v,fetchMethod:S,memoMethod:k,noDeleteOnFetchRejection:E,noDeleteOnStaleGet:x,allowStaleOnFetchRejection:O,allowStaleOnFetchAbort:_,ignoreFetchAbort:T}=t;if(0!==e&&!h(e))throw new TypeError("max option must be a nonnegative integer");const A=e?c(e):Array;if(!A)throw new Error("invalid max value: "+e);if(this.#e=e,this.#s=w,this.maxEntrySize=b||this.#s,this.sizeCalculation=v,this.sizeCalculation){if(!this.#s&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==k&&"function"!=typeof k)throw new TypeError("memoMethod must be a function if defined");if(this.#o=k,void 0!==S&&"function"!=typeof S)throw new TypeError("fetchMethod must be a function if specified");if(this.#n=S,this.#k=!!S,this.#c=new Map,this.#l=new Array(e).fill(void 0),this.#u=new Array(e).fill(void 0),this.#p=new A(e),this.#d=new A(e),this.#f=0,this.#g=0,this.#m=u.create(e),this.#a=0,this.#h=0,"function"==typeof f&&(this.#i=f),"function"==typeof g?(this.#r=g,this.#y=[]):(this.#r=void 0,this.#y=void 0),this.#S=!!this.#i,this.#E=!!this.#r,this.noDisposeOnSet=!!m,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!E,this.allowStaleOnFetchRejection=!!O,this.allowStaleOnFetchAbort=!!_,this.ignoreFetchAbort=!!T,0!==this.maxEntrySize){if(0!==this.#s&&!h(this.#s))throw new TypeError("maxSize must be a positive integer if specified");if(!h(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#L()}if(this.allowStale=!!d,this.noDeleteOnStaleGet=!!x,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!l,this.ttlResolution=h(r)||0===r?r:1,this.ttlAutopurge=!!o,this.ttl=s||0,this.ttl){if(!h(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#C()}if(0===this.#e&&0===this.ttl&&0===this.#s)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#s){const t="LRU_CACHE_UNBOUNDED";(t=>!i.has(t))(t)&&(i.add(t),n("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,p))}}getRemainingTTL(t){return this.#c.has(t)?1/0:0}#C(){const t=new l(this.#e),e=new l(this.#e);this.#v=t,this.#b=e,this.#P=(i,r,n=s.now())=>{if(e[i]=0!==r?n:0,t[i]=r,0!==r&&this.ttlAutopurge){const t=setTimeout((()=>{this.#M(i)&&this.#N(this.#l[i],"expire")}),r+1);t.unref&&t.unref()}},this.#j=i=>{e[i]=0!==t[i]?s.now():0},this.#R=(s,n)=>{if(t[n]){const o=t[n],a=e[n];if(!o||!a)return;s.ttl=o,s.start=a,s.now=i||r();const h=s.now-a;s.remainingTTL=o-h}};let i=0;const r=()=>{const t=s.now();if(this.ttlResolution>0){i=t;const e=setTimeout((()=>i=0),this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=s=>{const n=this.#c.get(s);if(void 0===n)return 0;const o=t[n],a=e[n];return o&&a?o-((i||r())-a):1/0},this.#M=s=>{const n=e[s],o=t[s];return!!o&&!!n&&(i||r())-n>o}}#j=()=>{};#R=()=>{};#P=()=>{};#M=()=>!1;#L(){const t=new l(this.#e);this.#h=0,this.#w=t,this.#F=e=>{this.#h-=t[e],t[e]=0},this.#D=(t,e,s,i)=>{if(this.#x(e))return 0;if(!h(s)){if(!i)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof i)throw new TypeError("sizeCalculation must be a function");if(s=i(e,t),!h(s))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return s},this.#I=(e,s,i)=>{if(t[e]=s,this.#s){const s=this.#s-t[e];for(;this.#h>s;)this.#z(!0)}this.#h+=t[e],i&&(i.entrySize=s,i.totalCalculatedSize=this.#h)}}#F=t=>{};#I=(t,e,s)=>{};#D=(t,e,s,i)=>{if(s||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#T({allowStale:t=this.allowStale}={}){if(this.#a)for(let e=this.#g;this.#B(e)&&(!t&&this.#M(e)||(yield e),e!==this.#f);)e=this.#d[e]}*#A({allowStale:t=this.allowStale}={}){if(this.#a)for(let e=this.#f;this.#B(e)&&(!t&&this.#M(e)||(yield e),e!==this.#g);)e=this.#p[e]}#B(t){return void 0!==t&&this.#c.get(this.#l[t])===t}*entries(){for(const t of this.#T())void 0===this.#u[t]||void 0===this.#l[t]||this.#x(this.#u[t])||(yield[this.#l[t],this.#u[t]])}*rentries(){for(const t of this.#A())void 0===this.#u[t]||void 0===this.#l[t]||this.#x(this.#u[t])||(yield[this.#l[t],this.#u[t]])}*keys(){for(const t of this.#T()){const e=this.#l[t];void 0===e||this.#x(this.#u[t])||(yield e)}}*rkeys(){for(const t of this.#A()){const e=this.#l[t];void 0===e||this.#x(this.#u[t])||(yield e)}}*values(){for(const t of this.#T())void 0===this.#u[t]||this.#x(this.#u[t])||(yield this.#u[t])}*rvalues(){for(const t of this.#A())void 0===this.#u[t]||this.#x(this.#u[t])||(yield this.#u[t])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,e={}){for(const s of this.#T()){const i=this.#u[s],r=this.#x(i)?i.__staleWhileFetching:i;if(void 0!==r&&t(r,this.#l[s],this))return this.get(this.#l[s],e)}}forEach(t,e=this){for(const s of this.#T()){const i=this.#u[s],r=this.#x(i)?i.__staleWhileFetching:i;void 0!==r&&t.call(e,r,this.#l[s],this)}}rforEach(t,e=this){for(const s of this.#A()){const i=this.#u[s],r=this.#x(i)?i.__staleWhileFetching:i;void 0!==r&&t.call(e,r,this.#l[s],this)}}purgeStale(){let t=!1;for(const e of this.#A({allowStale:!0}))this.#M(e)&&(this.#N(this.#l[e],"expire"),t=!0);return t}info(t){const e=this.#c.get(t);if(void 0===e)return;const i=this.#u[e],r=this.#x(i)?i.__staleWhileFetching:i;if(void 0===r)return;const n={value:r};if(this.#v&&this.#b){const t=this.#v[e],i=this.#b[e];if(t&&i){const e=t-(s.now()-i);n.ttl=e,n.start=Date.now()}}return this.#w&&(n.size=this.#w[e]),n}dump(){const t=[];for(const e of this.#T({allowStale:!0})){const i=this.#l[e],r=this.#u[e],n=this.#x(r)?r.__staleWhileFetching:r;if(void 0===n||void 0===i)continue;const o={value:n};if(this.#v&&this.#b){o.ttl=this.#v[e];const t=s.now()-this.#b[e];o.start=Math.floor(Date.now()-t)}this.#w&&(o.size=this.#w[e]),t.unshift([i,o])}return t}load(t){this.clear();for(const[e,i]of t){if(i.start){const t=Date.now()-i.start;i.start=s.now()-t}this.set(e,i.value,i)}}set(t,e,s={}){if(void 0===e)return this.delete(t),this;const{ttl:i=this.ttl,start:r,noDisposeOnSet:n=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=s;let{noUpdateTTL:h=this.noUpdateTTL}=s;const c=this.#D(t,e,s.size||0,o);if(this.maxEntrySize&&c>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.#N(t,"set"),this;let l=0===this.#a?void 0:this.#c.get(t);if(void 0===l)l=0===this.#a?this.#g:0!==this.#m.length?this.#m.pop():this.#a===this.#e?this.#z(!1):this.#a,this.#l[l]=t,this.#u[l]=e,this.#c.set(t,l),this.#p[this.#g]=l,this.#d[l]=this.#g,this.#g=l,this.#a++,this.#I(l,c,a),a&&(a.set="add"),h=!1;else{this.#_(l);const s=this.#u[l];if(e!==s){if(this.#k&&this.#x(s)){s.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:e}=s;void 0===e||n||(this.#S&&this.#i?.(e,t,"set"),this.#E&&this.#y?.push([e,t,"set"]))}else n||(this.#S&&this.#i?.(s,t,"set"),this.#E&&this.#y?.push([s,t,"set"]));if(this.#F(l),this.#I(l,c,a),this.#u[l]=e,a){a.set="replace";const t=s&&this.#x(s)?s.__staleWhileFetching:s;void 0!==t&&(a.oldValue=t)}}else a&&(a.set="update")}if(0===i||this.#v||this.#C(),this.#v&&(h||this.#P(l,i,r),a&&this.#R(a,l)),!n&&this.#E&&this.#y){const t=this.#y;let e;for(;e=t?.shift();)this.#r?.(...e)}return this}pop(){try{for(;this.#a;){const t=this.#u[this.#f];if(this.#z(!0),this.#x(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#E&&this.#y){const t=this.#y;let e;for(;e=t?.shift();)this.#r?.(...e)}}}#z(t){const e=this.#f,s=this.#l[e],i=this.#u[e];return this.#k&&this.#x(i)?i.__abortController.abort(new Error("evicted")):(this.#S||this.#E)&&(this.#S&&this.#i?.(i,s,"evict"),this.#E&&this.#y?.push([i,s,"evict"])),this.#F(e),t&&(this.#l[e]=void 0,this.#u[e]=void 0,this.#m.push(e)),1===this.#a?(this.#f=this.#g=0,this.#m.length=0):this.#f=this.#p[e],this.#c.delete(s),this.#a--,e}has(t,e={}){const{updateAgeOnHas:s=this.updateAgeOnHas,status:i}=e,r=this.#c.get(t);if(void 0!==r){const t=this.#u[r];if(this.#x(t)&&void 0===t.__staleWhileFetching)return!1;if(!this.#M(r))return s&&this.#j(r),i&&(i.has="hit",this.#R(i,r)),!0;i&&(i.has="stale",this.#R(i,r))}else i&&(i.has="miss");return!1}peek(t,e={}){const{allowStale:s=this.allowStale}=e,i=this.#c.get(t);if(void 0===i||!s&&this.#M(i))return;const r=this.#u[i];return this.#x(r)?r.__staleWhileFetching:r}#O(t,e,s,i){const r=void 0===e?void 0:this.#u[e];if(this.#x(r))return r;const n=new o,{signal:a}=s;a?.addEventListener("abort",(()=>n.abort(a.reason)),{signal:n.signal});const h={signal:n.signal,options:s,context:i},c=(i,r=!1)=>{const{aborted:o}=n.signal,a=s.ignoreFetchAbort&&void 0!==i;if(s.status&&(o&&!r?(s.status.fetchAborted=!0,s.status.fetchError=n.signal.reason,a&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),o&&!a&&!r)return l(n.signal.reason);const c=u;return this.#u[e]===u&&(void 0===i?c.__staleWhileFetching?this.#u[e]=c.__staleWhileFetching:this.#N(t,"fetch"):(s.status&&(s.status.fetchUpdated=!0),this.set(t,i,h.options))),i},l=i=>{const{aborted:r}=n.signal,o=r&&s.allowStaleOnFetchAbort,a=o||s.allowStaleOnFetchRejection,h=a||s.noDeleteOnFetchRejection,c=u;if(this.#u[e]===u&&(h&&void 0!==c.__staleWhileFetching?o||(this.#u[e]=c.__staleWhileFetching):this.#N(t,"fetch")),a)return s.status&&void 0!==c.__staleWhileFetching&&(s.status.returnedStale=!0),c.__staleWhileFetching;if(c.__returned===c)throw i};s.status&&(s.status.fetchDispatched=!0);const u=new Promise(((e,i)=>{const o=this.#n?.(t,r,h);o&&o instanceof Promise&&o.then((t=>e(void 0===t?void 0:t)),i),n.signal.addEventListener("abort",(()=>{s.ignoreFetchAbort&&!s.allowStaleOnFetchAbort||(e(void 0),s.allowStaleOnFetchAbort&&(e=t=>c(t,!0)))}))})).then(c,(t=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=t),l(t)))),p=Object.assign(u,{__abortController:n,__staleWhileFetching:r,__returned:void 0});return void 0===e?(this.set(t,p,{...h.options,status:void 0}),e=this.#c.get(t)):this.#u[e]=p,p}#x(t){if(!this.#k)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof o}async fetch(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:n=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:h=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:l=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:u=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:d=this.allowStaleOnFetchAbort,context:f,forceRefresh:g=!1,status:m,signal:y}=e;if(!this.#k)return m&&(m.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:r,status:m});const w={allowStale:s,updateAgeOnGet:i,noDeleteOnStaleGet:r,ttl:n,noDisposeOnSet:o,size:a,sizeCalculation:h,noUpdateTTL:c,noDeleteOnFetchRejection:l,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:d,ignoreFetchAbort:p,status:m,signal:y};let b=this.#c.get(t);if(void 0===b){m&&(m.fetch="miss");const e=this.#O(t,b,w,f);return e.__returned=e}{const e=this.#u[b];if(this.#x(e)){const t=s&&void 0!==e.__staleWhileFetching;return m&&(m.fetch="inflight",t&&(m.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}const r=this.#M(b);if(!g&&!r)return m&&(m.fetch="hit"),this.#_(b),i&&this.#j(b),m&&this.#R(m,b),e;const n=this.#O(t,b,w,f),o=void 0!==n.__staleWhileFetching&&s;return m&&(m.fetch=r?"stale":"refresh",o&&r&&(m.returnedStale=!0)),o?n.__staleWhileFetching:n.__returned=n}}async forceFetch(t,e={}){const s=await this.fetch(t,e);if(void 0===s)throw new Error("fetch() returned undefined");return s}memo(t,e={}){const s=this.#o;if(!s)throw new Error("no memoMethod provided to constructor");const{context:i,forceRefresh:r,...n}=e,o=this.get(t,n);if(!r&&void 0!==o)return o;const a=s(t,o,{options:n,context:i});return this.set(t,a,n),a}get(t,e={}){const{allowStale:s=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:n}=e,o=this.#c.get(t);if(void 0!==o){const e=this.#u[o],a=this.#x(e);return n&&this.#R(n,o),this.#M(o)?(n&&(n.get="stale"),a?(n&&s&&void 0!==e.__staleWhileFetching&&(n.returnedStale=!0),s?e.__staleWhileFetching:void 0):(r||this.#N(t,"expire"),n&&s&&(n.returnedStale=!0),s?e:void 0)):(n&&(n.get="hit"),a?e.__staleWhileFetching:(this.#_(o),i&&this.#j(o),e))}n&&(n.get="miss")}#W(t,e){this.#d[e]=t,this.#p[t]=e}#_(t){t!==this.#g&&(t===this.#f?this.#f=this.#p[t]:this.#W(this.#d[t],this.#p[t]),this.#W(this.#g,t),this.#g=t)}delete(t){return this.#N(t,"delete")}#N(t,e){let s=!1;if(0!==this.#a){const i=this.#c.get(t);if(void 0!==i)if(s=!0,1===this.#a)this.#G(e);else{this.#F(i);const s=this.#u[i];if(this.#x(s)?s.__abortController.abort(new Error("deleted")):(this.#S||this.#E)&&(this.#S&&this.#i?.(s,t,e),this.#E&&this.#y?.push([s,t,e])),this.#c.delete(t),this.#l[i]=void 0,this.#u[i]=void 0,i===this.#g)this.#g=this.#d[i];else if(i===this.#f)this.#f=this.#p[i];else{const t=this.#d[i];this.#p[t]=this.#p[i];const e=this.#p[i];this.#d[e]=this.#d[i]}this.#a--,this.#m.push(i)}}if(this.#E&&this.#y?.length){const t=this.#y;let e;for(;e=t?.shift();)this.#r?.(...e)}return s}clear(){return this.#G("delete")}#G(t){for(const e of this.#A({allowStale:!0})){const s=this.#u[e];if(this.#x(s))s.__abortController.abort(new Error("deleted"));else{const i=this.#l[e];this.#S&&this.#i?.(s,i,t),this.#E&&this.#y?.push([s,i,t])}}if(this.#c.clear(),this.#u.fill(void 0),this.#l.fill(void 0),this.#v&&this.#b&&(this.#v.fill(0),this.#b.fill(0)),this.#w&&this.#w.fill(0),this.#f=0,this.#g=0,this.#m.length=0,this.#h=0,this.#a=0,this.#E&&this.#y){const t=this.#y;let e;for(;e=t?.shift();)this.#r?.(...e)}}}e.LRUCache=p},136:t=>{"use strict";t.exports=require("node:url")},144:function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.unescape=e.escape=e.AST=e.Minimatch=e.match=e.makeRe=e.braceExpand=e.defaults=e.filter=e.GLOBSTAR=e.sep=e.minimatch=void 0;const r=i(s(422)),n=s(496),o=s(280),a=s(577),h=s(718);e.minimatch=(t,e,s={})=>((0,n.assertValidPattern)(e),!(!s.nocomment&&"#"===e.charAt(0))&&new P(e,s).match(t));const c=/^\*+([^+@!?\*\[\(]*)$/,l=t=>e=>!e.startsWith(".")&&e.endsWith(t),u=t=>e=>e.endsWith(t),p=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),d=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),f=/^\*+\.\*+$/,g=t=>!t.startsWith(".")&&t.includes("."),m=t=>"."!==t&&".."!==t&&t.includes("."),y=/^\.\*+$/,w=t=>"."!==t&&".."!==t&&t.startsWith("."),b=/^\*+$/,v=t=>0!==t.length&&!t.startsWith("."),S=t=>0!==t.length&&"."!==t&&".."!==t,k=/^\?+([^+@!?\*\[\(]*)?$/,E=([t,e=""])=>{const s=T([t]);return e?(e=e.toLowerCase(),t=>s(t)&&t.toLowerCase().endsWith(e)):s},x=([t,e=""])=>{const s=A([t]);return e?(e=e.toLowerCase(),t=>s(t)&&t.toLowerCase().endsWith(e)):s},O=([t,e=""])=>{const s=A([t]);return e?t=>s(t)&&t.endsWith(e):s},_=([t,e=""])=>{const s=T([t]);return e?t=>s(t)&&t.endsWith(e):s},T=([t])=>{const e=t.length;return t=>t.length===e&&!t.startsWith(".")},A=([t])=>{const e=t.length;return t=>t.length===e&&"."!==t&&".."!==t},M="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";e.sep="win32"===M?"\\":"/",e.minimatch.sep=e.sep,e.GLOBSTAR=Symbol("globstar **"),e.minimatch.GLOBSTAR=e.GLOBSTAR,e.filter=(t,s={})=>i=>(0,e.minimatch)(i,t,s),e.minimatch.filter=e.filter;const L=(t,e={})=>Object.assign({},t,e);e.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return e.minimatch;const s=e.minimatch;return Object.assign(((e,i,r={})=>s(e,i,L(t,r))),{Minimatch:class extends s.Minimatch{constructor(e,s={}){super(e,L(t,s))}static defaults(e){return s.defaults(L(t,e)).Minimatch}},AST:class extends s.AST{constructor(e,s,i={}){super(e,s,L(t,i))}static fromGlob(e,i={}){return s.AST.fromGlob(e,L(t,i))}},unescape:(e,i={})=>s.unescape(e,L(t,i)),escape:(e,i={})=>s.escape(e,L(t,i)),filter:(e,i={})=>s.filter(e,L(t,i)),defaults:e=>s.defaults(L(t,e)),makeRe:(e,i={})=>s.makeRe(e,L(t,i)),braceExpand:(e,i={})=>s.braceExpand(e,L(t,i)),match:(e,i,r={})=>s.match(e,i,L(t,r)),sep:s.sep,GLOBSTAR:e.GLOBSTAR})},e.minimatch.defaults=e.defaults,e.braceExpand=(t,e={})=>((0,n.assertValidPattern)(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,r.default)(t)),e.minimatch.braceExpand=e.braceExpand,e.makeRe=(t,e={})=>new P(t,e).makeRe(),e.minimatch.makeRe=e.makeRe,e.match=(t,e,s={})=>{const i=new P(e,s);return t=t.filter((t=>i.match(t))),i.options.nonull&&!t.length&&t.push(e),t},e.minimatch.match=e.match;const C=/[?*]|[+@!]\(.*?\)|\[|\]/;class P{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){(0,n.assertValidPattern)(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||M,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==e.windowsNoMagicRoot?e.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if("string"!=typeof e)return!0;return!1}debug(...t){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,this.globSet);const s=this.globSet.map((t=>this.slashSplit(t)));this.globParts=this.preprocess(s),this.debug(this.pattern,this.globParts);let i=this.globParts.map(((t,e,s)=>{if(this.isWindows&&this.windowsNoMagicRoot){const e=!(""!==t[0]||""!==t[1]||"?"!==t[2]&&C.test(t[2])||C.test(t[3])),s=/^[a-z]:/i.test(t[0]);if(e)return[...t.slice(0,4),...t.slice(4).map((t=>this.parse(t)))];if(s)return[t[0],...t.slice(1).map((t=>this.parse(t)))]}return t.map((t=>this.parse(t)))}));if(this.debug(this.pattern,i),this.set=i.filter((t=>-1===t.indexOf(!1))),this.isWindows)for(let t=0;t<this.set.length;t++){const e=this.set[t];""===e[0]&&""===e[1]&&"?"===this.globParts[t][2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])&&(e[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let e=0;e<t.length;e++)for(let s=0;s<t[e].length;s++)"**"===t[e][s]&&(t[e][s]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map((t=>{let e=-1;for(;-1!==(e=t.indexOf("**",e+1));){let s=e;for(;"**"===t[s+1];)s++;s!==e&&t.splice(e,s-e)}return t}))}levelOneOptimize(t){return t.map((t=>0===(t=t.reduce(((t,e)=>{const s=t[t.length-1];return"**"===e&&"**"===s?t:".."===e&&s&&".."!==s&&"."!==s&&"**"!==s?(t.pop(),t):(t.push(e),t)}),[])).length?[""]:t))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let s=1;s<t.length-1;s++){const i=t[s];1===s&&""===i&&""===t[0]||"."!==i&&""!==i||(e=!0,t.splice(s,1),s--)}"."!==t[0]||2!==t.length||"."!==t[1]&&""!==t[1]||(e=!0,t.pop())}let s=0;for(;-1!==(s=t.indexOf("..",s+1));){const i=t[s-1];i&&"."!==i&&".."!==i&&"**"!==i&&(e=!0,t.splice(s-1,2),s-=2)}}while(e);return 0===t.length?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let s of t){let i=-1;for(;-1!==(i=s.indexOf("**",i+1));){let r=i;for(;"**"===s[r+1];)r++;r>i&&s.splice(i+1,r-i);let n=s[i+1];const o=s[i+2],a=s[i+3];if(".."!==n)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;e=!0,s.splice(i,1);const h=s.slice(0);h[i]="**",t.push(h),i--}if(!this.preserveMultipleSlashes){for(let t=1;t<s.length-1;t++){const i=s[t];1===t&&""===i&&""===s[0]||"."!==i&&""!==i||(e=!0,s.splice(t,1),t--)}"."!==s[0]||2!==s.length||"."!==s[1]&&""!==s[1]||(e=!0,s.pop())}let r=0;for(;-1!==(r=s.indexOf("..",r+1));){const t=s[r-1];if(t&&"."!==t&&".."!==t&&"**"!==t){e=!0;const t=1===r&&"**"===s[r+1]?["."]:[];s.splice(r-1,2,...t),0===s.length&&s.push(""),r-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let s=e+1;s<t.length;s++){const i=this.partsMatch(t[e],t[s],!this.preserveMultipleSlashes);if(i){t[e]=[],t[s]=i;break}}return t.filter((t=>t.length))}partsMatch(t,e,s=!1){let i=0,r=0,n=[],o="";for(;i<t.length&&r<e.length;)if(t[i]===e[r])n.push("b"===o?e[r]:t[i]),i++,r++;else if(s&&"**"===t[i]&&e[r]===t[i+1])n.push(t[i]),i++;else if(s&&"**"===e[r]&&t[i]===e[r+1])n.push(e[r]),r++;else if("*"!==t[i]||!e[r]||!this.options.dot&&e[r].startsWith(".")||"**"===e[r]){if("*"!==e[r]||!t[i]||!this.options.dot&&t[i].startsWith(".")||"**"===t[i])return!1;if("a"===o)return!1;o="b",n.push(e[r]),i++,r++}else{if("b"===o)return!1;o="a",n.push(t[i]),i++,r++}return t.length===e.length&&n}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,s=0;for(let i=0;i<t.length&&"!"===t.charAt(i);i++)e=!e,s++;s&&(this.pattern=t.slice(s)),this.negate=e}matchOne(t,s,i=!1){const r=this.options;if(this.isWindows){const e="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),i=!e&&""===t[0]&&""===t[1]&&"?"===t[2]&&/^[a-z]:$/i.test(t[3]),r="string"==typeof s[0]&&/^[a-z]:$/i.test(s[0]),n=i?3:e?0:void 0,o=!r&&""===s[0]&&""===s[1]&&"?"===s[2]&&"string"==typeof s[3]&&/^[a-z]:$/i.test(s[3])?3:r?0:void 0;if("number"==typeof n&&"number"==typeof o){const[e,i]=[t[n],s[o]];e.toLowerCase()===i.toLowerCase()&&(s[o]=e,o>n?s=s.slice(o):n>o&&(t=t.slice(n)))}}const{optimizationLevel:n=1}=this.options;n>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:s}),this.debug("matchOne",t.length,s.length);for(var o=0,a=0,h=t.length,c=s.length;o<h&&a<c;o++,a++){this.debug("matchOne loop");var l=s[a],u=t[o];if(this.debug(s,l,u),!1===l)return!1;if(l===e.GLOBSTAR){this.debug("GLOBSTAR",[s,l,u]);var p=o,d=a+1;if(d===c){for(this.debug("** at the end");o<h;o++)if("."===t[o]||".."===t[o]||!r.dot&&"."===t[o].charAt(0))return!1;return!0}for(;p<h;){var f=t[p];if(this.debug("\nglobstar while",t,p,s,d,f),this.matchOne(t.slice(p),s.slice(d),i))return this.debug("globstar found match!",p,h,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",t,p,s,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!i||(this.debug("\n>>> no match, partial?",t,p,s,d),p!==h))}let n;if("string"==typeof l?(n=u===l,this.debug("string match",l,u,n)):(n=l.test(u),this.debug("pattern match",l,u,n)),!n)return!1}if(o===h&&a===c)return!0;if(o===h)return i;if(a===c)return o===h-1&&""===t[o];throw new Error("wtf?")}braceExpand(){return(0,e.braceExpand)(this.pattern,this.options)}parse(t){(0,n.assertValidPattern)(t);const s=this.options;if("**"===t)return e.GLOBSTAR;if(""===t)return"";let i,r=null;(i=t.match(b))?r=s.dot?S:v:(i=t.match(c))?r=(s.nocase?s.dot?d:p:s.dot?u:l)(i[1]):(i=t.match(k))?r=(s.nocase?s.dot?x:E:s.dot?O:_)(i):(i=t.match(f))?r=s.dot?m:g:(i=t.match(y))&&(r=w);const a=o.AST.fromGlob(t,this.options).toMMPattern();return r&&"object"==typeof a&&Reflect.defineProperty(a,"test",{value:r}),a}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const s=this.options,i=s.noglobstar?"[^/]*?":s.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=new Set(s.nocase?["i"]:[]);let n=t.map((t=>{const s=t.map((t=>{if(t instanceof RegExp)for(const e of t.flags.split(""))r.add(e);return"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t===e.GLOBSTAR?e.GLOBSTAR:t._src}));return s.forEach(((t,r)=>{const n=s[r+1],o=s[r-1];t===e.GLOBSTAR&&o!==e.GLOBSTAR&&(void 0===o?void 0!==n&&n!==e.GLOBSTAR?s[r+1]="(?:\\/|"+i+"\\/)?"+n:s[r]=i:void 0===n?s[r-1]=o+"(?:\\/|"+i+")?":n!==e.GLOBSTAR&&(s[r-1]=o+"(?:\\/|\\/"+i+"\\/)"+n,s[r+1]=e.GLOBSTAR))})),s.filter((t=>t!==e.GLOBSTAR)).join("/")})).join("|");const[o,a]=t.length>1?["(?:",")"]:["",""];n="^"+o+n+a+"$",this.negate&&(n="^(?!"+n+").+$");try{this.regexp=new RegExp(n,[...r].join(""))}catch(t){this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const s=this.options;this.isWindows&&(t=t.split("\\").join("/"));const i=this.slashSplit(t);this.debug(this.pattern,"split",i);const r=this.set;this.debug(this.pattern,"set",r);let n=i[i.length-1];if(!n)for(let t=i.length-2;!n&&t>=0;t--)n=i[t];for(let t=0;t<r.length;t++){const o=r[t];let a=i;if(s.matchBase&&1===o.length&&(a=[n]),this.matchOne(a,o,e))return!!s.flipNegate||!this.negate}return!s.flipNegate&&this.negate}static defaults(t){return e.minimatch.defaults(t).Minimatch}}e.Minimatch=P;var N=s(280);Object.defineProperty(e,"AST",{enumerable:!0,get:function(){return N.AST}});var j=s(577);Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return j.escape}});var R=s(718);Object.defineProperty(e,"unescape",{enumerable:!0,get:function(){return R.unescape}}),e.minimatch.AST=o.AST,e.minimatch.Minimatch=P,e.minimatch.escape=a.escape,e.minimatch.unescape=h.unescape},193:t=>{"use strict";t.exports=require("node:string_decoder")},239:(t,e,s)=>{const i=s(613),r=s(928),n=s(896);let o;try{o=s(734)}catch(t){}const a={nosort:!0,silent:!0};let h=0;const c="win32"===process.platform,l=t=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((e=>{t[e]=t[e]||n[e],t[e+="Sync"]=t[e]||n[e]})),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,!1===t.glob&&(t.disableGlob=!0),!0!==t.disableGlob&&void 0===o)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||a},u=(t,e,s)=>{"function"==typeof e&&(s=e,e={}),i(t,"rimraf: missing path"),i.equal(typeof t,"string","rimraf: path should be a string"),i.equal(typeof s,"function","rimraf: callback function required"),i(e,"rimraf: invalid options argument provided"),i.equal(typeof e,"object","rimraf: options should be object"),l(e);let r=0,n=null,a=0;const c=(t,i)=>t?s(t):(a=i.length,0===a?s():void i.forEach((t=>{const i=o=>{if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&r<e.maxBusyTries)return r++,setTimeout((()=>p(t,e,i)),100*r);if("EMFILE"===o.code&&h<e.emfileWait)return setTimeout((()=>p(t,e,i)),h++);"ENOENT"===o.code&&(o=null)}h=0,(t=>{n=n||t,0==--a&&s(n)})(o)};p(t,e,i)})));if(e.disableGlob||!o.hasMagic(t))return c(null,[t]);e.lstat(t,((s,i)=>{if(!s)return c(null,[t]);o(t,e.glob,c)}))},p=(t,e,s)=>{i(t),i(e),i("function"==typeof s),e.lstat(t,((i,r)=>i&&"ENOENT"===i.code?s(null):(i&&"EPERM"===i.code&&c&&d(t,e,i,s),r&&r.isDirectory()?g(t,e,i,s):void e.unlink(t,(i=>{if(i){if("ENOENT"===i.code)return s(null);if("EPERM"===i.code)return c?d(t,e,i,s):g(t,e,i,s);if("EISDIR"===i.code)return g(t,e,i,s)}return s(i)})))))},d=(t,e,s,r)=>{i(t),i(e),i("function"==typeof r),e.chmod(t,438,(i=>{i?r("ENOENT"===i.code?null:s):e.stat(t,((i,n)=>{i?r("ENOENT"===i.code?null:s):n.isDirectory()?g(t,e,s,r):e.unlink(t,r)}))}))},f=(t,e,s)=>{i(t),i(e);try{e.chmodSync(t,438)}catch(t){if("ENOENT"===t.code)return;throw s}let r;try{r=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw s}r.isDirectory()?w(t,e,s):e.unlinkSync(t)},g=(t,e,s,r)=>{i(t),i(e),i("function"==typeof r),e.rmdir(t,(i=>{!i||"ENOTEMPTY"!==i.code&&"EEXIST"!==i.code&&"EPERM"!==i.code?i&&"ENOTDIR"===i.code?r(s):r(i):m(t,e,r)}))},m=(t,e,s)=>{i(t),i(e),i("function"==typeof s),e.readdir(t,((i,n)=>{if(i)return s(i);let o,a=n.length;if(0===a)return e.rmdir(t,s);n.forEach((i=>{u(r.join(t,i),e,(i=>{if(!o)return i?s(o=i):void(0==--a&&e.rmdir(t,s))}))}))}))},y=(t,e)=>{let s;if(l(e=e||{}),i(t,"rimraf: missing path"),i.equal(typeof t,"string","rimraf: path should be a string"),i(e,"rimraf: missing options"),i.equal(typeof e,"object","rimraf: options should be object"),e.disableGlob||!o.hasMagic(t))s=[t];else try{e.lstatSync(t),s=[t]}catch(i){s=o.sync(t,e.glob)}if(s.length)for(let t=0;t<s.length;t++){const i=s[t];let r;try{r=e.lstatSync(i)}catch(t){if("ENOENT"===t.code)return;"EPERM"===t.code&&c&&f(i,e,t)}try{r&&r.isDirectory()?w(i,e,null):e.unlinkSync(i)}catch(t){if("ENOENT"===t.code)return;if("EPERM"===t.code)return c?f(i,e,t):w(i,e,t);if("EISDIR"!==t.code)throw t;w(i,e,t)}}},w=(t,e,s)=>{i(t),i(e);try{e.rmdirSync(t)}catch(i){if("ENOENT"===i.code)return;if("ENOTDIR"===i.code)throw s;"ENOTEMPTY"!==i.code&&"EEXIST"!==i.code&&"EPERM"!==i.code||b(t,e)}},b=(t,e)=>{i(t),i(e),e.readdirSync(t).forEach((s=>y(r.join(t,s),e)));const s=c?100:1;let n=0;for(;;){let i=!0;try{const s=e.rmdirSync(t,e);return i=!1,s}finally{if(++n<s&&i)continue}}};t.exports=u,u.sync=y},265:function(t,e,s){"use strict";var i,r=this&&this.__createBinding||(Object.create?function(t,e,s,i){void 0===i&&(i=s);var r=Object.getOwnPropertyDescriptor(e,s);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,i,r)}:function(t,e,s,i){void 0===i&&(i=s),t[i]=e[s]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||(i=function(t){return i=Object.getOwnPropertyNames||function(t){var e=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[e.length]=s);return e},i(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s=i(t),o=0;o<s.length;o++)"default"!==s[o]&&r(e,t,s[o]);return n(e,t),e});Object.defineProperty(e,"__esModule",{value:!0}),e.Notes=void 0,e.activate=function(t){console.log('"vscode-notes" is active.');let e=new l.NotesViewProvider(String(u.getNotesLocation()),String(u.getNotesExtensions()));a.window.registerTreeDataProvider("notes",e.init()),t.subscriptions.push(a.workspace.onDidChangeConfiguration((t=>{t.affectsConfiguration("notes.notesLocation")&&a.window.showWarningMessage("The Notes extension detected a change in the storage location. You must reload the window for the change to take effect.","Reload").then((t=>{"Reload"===t&&a.commands.executeCommand("workbench.action.reloadWindow")}))})));let s=a.commands.registerCommand("Notes.deleteNote",(t=>{u.deleteNote(t,e)}));t.subscriptions.push(s);let i=a.commands.registerCommand("Notes.deleteFolder",(t=>{u.deleteFolder(t,e)}));t.subscriptions.push(i);let r=a.commands.registerCommand("Notes.listNotes",(()=>{u.listNotes()}));t.subscriptions.push(r);let n=a.commands.registerCommand("Notes.newNote",(t=>{u.newNote(e,t)}));t.subscriptions.push(n);let o=a.commands.registerCommand("Notes.newFolder",(t=>{u.newFolder(e,t)}));t.subscriptions.push(o);let h=a.commands.registerCommand("Notes.openNote",(t=>{u.openNote(t)}));t.subscriptions.push(h);let c=a.commands.registerCommand("Notes.refreshNotes",(()=>{u.refreshNotes(e)}));t.subscriptions.push(c);let p=a.commands.registerCommand("Notes.renameNote",(t=>{u.renameNote(t,e)}));t.subscriptions.push(p);let d=a.commands.registerCommand("Notes.renameFolder",(t=>{u.renameFolder(t,e)}));t.subscriptions.push(d);let f=a.commands.registerCommand("Notes.setupNotes",(()=>{u.setupNotes()}));t.subscriptions.push(f)},e.deactivate=function(){};const a=o(s(398)),h=o(s(896)),c=o(s(928)),l=s(949);class u{constructor(t){this.settings=t,this.settings=a.workspace.getConfiguration("vscode-notes")}static getNotesLocation(){return a.workspace.getConfiguration("notes").get("notesLocation")}static getNotesDefaultNoteExtension(){return a.workspace.getConfiguration("notes").get("notesDefaultNoteExtension")}static getNotesExtensions(){return a.workspace.getConfiguration("notes").get("notesExtensions")}static deleteNote(t,e){a.window.showWarningMessage(`Are you sure you want to delete '${t.name}'? This action is permanent and can not be reversed.`,"Yes","No").then((s=>{"Yes"===s&&(h.unlink(c.join(String(t.location),String(t.name)),(e=>{if(e)return console.error(e),a.window.showErrorMessage(`Failed to delete ${t.name}.`);a.window.showInformationMessage(`Successfully deleted ${t.name}.`)})),e.refresh())}))}static deleteFolder(t,e){t.isFolder?a.window.showWarningMessage(`Are you sure you want to delete folder '${t.name}' and all its contents? This action is permanent and can not be reversed.`,"Yes","No").then((i=>{if("Yes"===i){const i=c.join(t.location,t.name);s(239)(i,(s=>{if(s)return console.error(s),void a.window.showErrorMessage(`Failed to delete folder ${t.name}.`);a.window.showInformationMessage(`Successfully deleted folder ${t.name}.`),e.refresh()}))}})):a.window.showErrorMessage("Selected item is not a folder.")}static listNotes(){let t=String(u.getNotesLocation());String(u.getNotesExtensions()),h.readdir(String(t),((e,s)=>{if(e)return console.error(e),a.window.showErrorMessage("Failed to read the notes folder.");a.window.showQuickPick(s).then((e=>{a.window.showTextDocument(a.Uri.file(c.join(String(t),String(e))))}))}))}static newNote(t,e){let s=e?c.join(e.location,e.name):String(u.getNotesLocation()),i=String(u.getNotesDefaultNoteExtension());a.window.showInputBox({prompt:"Note name?",value:""}).then((e=>{if(!e)return;let r=`${e}`,n=c.join(s,`${r.replace(/\:/gi,"")}.${i}`),o="# "+r+"\n\n";if(h.existsSync(String(n)))return a.window.showWarningMessage("A note with that name already exists.");h.writeFile(n,o,(t=>{if(t)return console.error(t),a.window.showErrorMessage("Failed to create the new note.");{let t=a.Uri.file(n);a.window.showTextDocument(t).then((()=>{a.commands.executeCommand("cursorMove",{to:"viewPortBottom"})}))}})),t.refresh()}))}static newFolder(t,e){let s=e?c.join(e.location,e.name):String(u.getNotesLocation());a.window.showInputBox({prompt:"Folder name?",value:""}).then((e=>{if(!e)return;let i=c.join(s,e);if(h.existsSync(String(i)))return a.window.showWarningMessage("A folder with that name already exists.");h.mkdir(i,{recursive:!0},(t=>{if(t)return console.error(t),a.window.showErrorMessage("Failed to create the new folder.");a.window.showInformationMessage(`Successfully created folder ${e}.`)})),t.refresh()}))}static openNote(t){if("string"!=typeof t&&t.isFolder)return;let e;e="string"==typeof t?t:c.join(String(t.location),String(t.name)),a.window.showTextDocument(a.Uri.file(e))}static refreshNotes(t){t.refresh()}static renameNote(t,e){if(t.isFolder)return;let s=t.name.split(".").pop();a.window.showInputBox({prompt:"New note name?",value:t.name}).then((i=>{if(!i||i===t.name)return;let r=c.extname(i).replace(".",""),n="";n=String(u.getNotesExtensions()).split(",").includes(r)?i:""===c.extname(i)?i+"."+s:c.basename(i,c.extname(i))+"."+s;let o=c.join(t.location,n);h.existsSync(o)?a.window.showWarningMessage(`'${n}' already exists.`):(a.window.showInformationMessage(`'${t.name}' renamed to '${n}'.`),h.renameSync(c.join(t.location,t.name),o),e.refresh())}))}static renameFolder(t,e){t.isFolder&&a.window.showInputBox({prompt:"New folder name?",value:t.name}).then((s=>{if(!s||s===t.name)return;let i=c.join(t.location,s);h.existsSync(i)?a.window.showWarningMessage(`'${s}' already exists.`):(a.window.showInformationMessage(`'${t.name}' renamed to '${s}'.`),h.renameSync(c.join(t.location,t.name),i),e.refresh())}))}static setupNotes(t){u.getNotesLocation()?a.commands.executeCommand("workbench.action.openSettings","@ext:dionmunk.vscode-notes"):a.window.showOpenDialog({canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,openLabel:"Select"}).then((t=>{t&&t[0]&&a.workspace.getConfiguration("notes").update("notesLocation",c.normalize(t[0].fsPath),!0).then((()=>{a.window.showWarningMessage("The Notes extension detected a change in the storage location. You must reload the window for the change to take effect.","Reload").then((t=>{"Reload"===t&&a.commands.executeCommand("workbench.action.reloadWindow")}))}))}))}}e.Notes=u},280:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AST=void 0;const i=s(897),r=s(718),n=new Set(["!","?","+","*","@"]),o=t=>n.has(t),a="(?!\\.)",h=new Set(["[","."]),c=new Set(["..","."]),l=new Set("().*{}+?[]^$\\!"),u="[^/]",p=u+"*?",d=u+"+?";class f{type;#$;#U;#q=!1;#H=[];#V;#Y;#Q;#Z=!1;#K;#J;#X=!1;constructor(t,e,s={}){this.type=t,t&&(this.#U=!0),this.#V=e,this.#$=this.#V?this.#V.#$:this,this.#K=this.#$===this?s:this.#$.#K,this.#Q=this.#$===this?[]:this.#$.#Q,"!"!==t||this.#$.#Z||this.#Q.push(this),this.#Y=this.#V?this.#V.#H.length:0}get hasMagic(){if(void 0!==this.#U)return this.#U;for(const t of this.#H)if("string"!=typeof t&&(t.type||t.hasMagic))return this.#U=!0;return this.#U}toString(){return void 0!==this.#J?this.#J:this.type?this.#J=this.type+"("+this.#H.map((t=>String(t))).join("|")+")":this.#J=this.#H.map((t=>String(t))).join("")}#tt(){if(this!==this.#$)throw new Error("should only call on root");if(this.#Z)return this;let t;for(this.toString(),this.#Z=!0;t=this.#Q.pop();){if("!"!==t.type)continue;let e=t,s=e.#V;for(;s;){for(let i=e.#Y+1;!s.type&&i<s.#H.length;i++)for(const e of t.#H){if("string"==typeof e)throw new Error("string part in extglob AST??");e.copyIn(s.#H[i])}e=s,s=e.#V}}return this}push(...t){for(const e of t)if(""!==e){if("string"!=typeof e&&!(e instanceof f&&e.#V===this))throw new Error("invalid part: "+e);this.#H.push(e)}}toJSON(){const t=null===this.type?this.#H.slice().map((t=>"string"==typeof t?t:t.toJSON())):[this.type,...this.#H.map((t=>t.toJSON()))];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#$||this.#$.#Z&&"!"===this.#V?.type)&&t.push({}),t}isStart(){if(this.#$===this)return!0;if(!this.#V?.isStart())return!1;if(0===this.#Y)return!0;const t=this.#V;for(let e=0;e<this.#Y;e++){const s=t.#H[e];if(!(s instanceof f&&"!"===s.type))return!1}return!0}isEnd(){if(this.#$===this)return!0;if("!"===this.#V?.type)return!0;if(!this.#V?.isEnd())return!1;if(!this.type)return this.#V?.isEnd();const t=this.#V?this.#V.#H.length:0;return this.#Y===t-1}copyIn(t){"string"==typeof t?this.push(t):this.push(t.clone(this))}clone(t){const e=new f(this.type,t);for(const t of this.#H)e.copyIn(t);return e}static#et(t,e,s,i){let r=!1,n=!1,a=-1,h=!1;if(null===e.type){let c=s,l="";for(;c<t.length;){const s=t.charAt(c++);if(r||"\\"===s)r=!r,l+=s;else if(n)c===a+1?"^"!==s&&"!"!==s||(h=!0):"]"!==s||c===a+2&&h||(n=!1),l+=s;else if("["!==s)if(i.noext||!o(s)||"("!==t.charAt(c))l+=s;else{e.push(l),l="";const r=new f(s,e);c=f.#et(t,r,c,i),e.push(r)}else n=!0,a=c,h=!1,l+=s}return e.push(l),c}let c=s+1,l=new f(null,e);const u=[];let p="";for(;c<t.length;){const s=t.charAt(c++);if(r||"\\"===s)r=!r,p+=s;else if(n)c===a+1?"^"!==s&&"!"!==s||(h=!0):"]"!==s||c===a+2&&h||(n=!1),p+=s;else if("["!==s)if(o(s)&&"("===t.charAt(c)){l.push(p),p="";const e=new f(s,l);l.push(e),c=f.#et(t,e,c,i)}else if("|"!==s){if(")"===s)return""===p&&0===e.#H.length&&(e.#X=!0),l.push(p),p="",e.push(...u,l),c;p+=s}else l.push(p),p="",u.push(l),l=new f(null,e);else n=!0,a=c,h=!1,p+=s}return e.type=null,e.#U=void 0,e.#H=[t.substring(s-1)],c}static fromGlob(t,e={}){const s=new f(null,void 0,e);return f.#et(t,s,0,e),s}toMMPattern(){if(this!==this.#$)return this.#$.toMMPattern();const t=this.toString(),[e,s,i,r]=this.toRegExpSource();if(!(i||this.#U||this.#K.nocase&&!this.#K.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;const n=(this.#K.nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${e}$`,n),{_src:e,_glob:t})}get options(){return this.#K}toRegExpSource(t){const e=t??!!this.#K.dot;if(this.#$===this&&this.#tt(),!this.type){const s=this.isStart()&&this.isEnd(),i=this.#H.map((e=>{const[i,r,n,o]="string"==typeof e?f.#st(e,this.#U,s):e.toRegExpSource(t);return this.#U=this.#U||n,this.#q=this.#q||o,i})).join("");let n="";if(this.isStart()&&"string"==typeof this.#H[0]&&(1!==this.#H.length||!c.has(this.#H[0]))){const s=h,r=e&&s.has(i.charAt(0))||i.startsWith("\\.")&&s.has(i.charAt(2))||i.startsWith("\\.\\.")&&s.has(i.charAt(4)),o=!e&&!t&&s.has(i.charAt(0));n=r?"(?!(?:^|/)\\.\\.?(?:$|/))":o?a:""}let o="";return this.isEnd()&&this.#$.#Z&&"!"===this.#V?.type&&(o="(?:$|\\/)"),[n+i+o,(0,r.unescape)(i),this.#U=!!this.#U,this.#q]}const s="*"===this.type||"+"===this.type,i="!"===this.type?"(?:(?!(?:":"(?:";let n=this.#it(e);if(this.isStart()&&this.isEnd()&&!n&&"!"!==this.type){const t=this.toString();return this.#H=[t],this.type=null,this.#U=void 0,[t,(0,r.unescape)(this.toString()),!1,!1]}let o=!s||t||e?"":this.#it(!0);o===n&&(o=""),o&&(n=`(?:${n})(?:${o})*?`);let l="";return l="!"===this.type&&this.#X?(this.isStart()&&!e?a:"")+d:i+n+("!"===this.type?"))"+(!this.isStart()||e||t?"":a)+p+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&o?")":"*"===this.type&&o?")?":`)${this.type}`),[l,(0,r.unescape)(n),this.#U=!!this.#U,this.#q]}#it(t){return this.#H.map((e=>{if("string"==typeof e)throw new Error("string type in extglob ast??");const[s,i,r,n]=e.toRegExpSource(t);return this.#q=this.#q||n,s})).filter((t=>!(this.isStart()&&this.isEnd()&&!t))).join("|")}static#st(t,e,s=!1){let n=!1,o="",a=!1;for(let r=0;r<t.length;r++){const h=t.charAt(r);if(n)n=!1,o+=(l.has(h)?"\\":"")+h;else if("\\"!==h){if("["===h){const[s,n,h,c]=(0,i.parseClass)(t,r);if(h){o+=s,a=a||n,r+=h-1,e=e||c;continue}}"*"!==h?"?"!==h?o+=h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(o+=u,e=!0):(o+=s&&"*"===t?d:p,e=!0)}else r===t.length-1?o+="\\\\":n=!0}return[o,(0,r.unescape)(t),!!e,a]}}e.AST=f},293:(t,e,s)=>{function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.setopts=function(t,e,s){if(s||(s={}),s.matchBase&&-1===e.indexOf("/")){if(s.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!s.silent,t.pattern=e,t.strict=!1!==s.strict,t.realpath=!!s.realpath,t.realpathCache=s.realpathCache||Object.create(null),t.follow=!!s.follow,t.dot=!!s.dot,t.mark=!!s.mark,t.nodir=!!s.nodir,t.nodir&&(t.mark=!0),t.sync=!!s.sync,t.nounique=!!s.nounique,t.nonull=!!s.nonull,t.nosort=!!s.nosort,t.nocase=!!s.nocase,t.stat=!!s.stat,t.noprocess=!!s.noprocess,t.absolute=!!s.absolute,t.fs=s.fs||r,t.maxLength=s.maxLength||1/0,t.cache=s.cache||Object.create(null),t.statCache=s.statCache||Object.create(null),t.symlinks=s.symlinks||Object.create(null),function(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(l))}(t,s),t.changedCwd=!1;var o=process.cwd();i(s,"cwd")?(t.cwd=n.resolve(s.cwd),t.changedCwd=t.cwd!==o):t.cwd=o,t.root=s.root||n.resolve(t.cwd,"/"),t.root=n.resolve(t.root),"win32"===process.platform&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=a(t.cwd)?t.cwd:u(t,t.cwd),"win32"===process.platform&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!s.nomount,s.nonegate=!0,s.nocomment=!0,s.allowWindowsEscape=!1,t.minimatch=new h(e,s),t.options=t.minimatch.options},e.ownProp=i,e.makeAbs=u,e.finish=function(t){for(var e=t.nounique,s=e?[]:Object.create(null),i=0,r=t.matches.length;i<r;i++){var n=t.matches[i];if(n&&0!==Object.keys(n).length){var o=Object.keys(n);e?s.push.apply(s,o):o.forEach((function(t){s[t]=!0}))}else if(t.nonull){var a=t.minimatch.globSet[i];e?s.push(a):s[a]=!0}}if(e||(s=Object.keys(s)),t.nosort||(s=s.sort(c)),t.mark){for(i=0;i<s.length;i++)s[i]=t._mark(s[i]);t.nodir&&(s=s.filter((function(e){var s=!/\/$/.test(e),i=t.cache[e]||t.cache[u(t,e)];return s&&i&&(s="DIR"!==i&&!Array.isArray(i)),s})))}t.ignore.length&&(s=s.filter((function(e){return!p(t,e)}))),t.found=s},e.mark=function(t,e){var s=u(t,e),i=t.cache[s],r=e;if(i){var n="DIR"===i||Array.isArray(i),o="/"===e.slice(-1);if(n&&!o?r+="/":!n&&o&&(r=r.slice(0,-1)),r!==e){var a=u(t,r);t.statCache[a]=t.statCache[s],t.cache[a]=t.cache[s]}}return r},e.isIgnored=p,e.childrenIgnored=function(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return!(!t.gmatcher||!t.gmatcher.match(e))}))};var r=s(896),n=s(928),o=s(27),a=s(641),h=o.Minimatch;function c(t,e){return t.localeCompare(e,"en")}function l(t){var e=null;if("/**"===t.slice(-3)){var s=t.replace(/(\/\*\*)+$/,"");e=new h(s,{dot:!0})}return{matcher:new h(t,{dot:!0}),gmatcher:e}}function u(t,e){var s=e;return s="/"===e.charAt(0)?n.join(t.root,e):a(e)||""===e?e:t.changedCwd?n.resolve(t.cwd,e):n.resolve(e),"win32"===process.platform&&(s=s.replace(/\\/g,"/")),s}function p(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))}))}},331:(t,e,s)=>{t.exports=d,d.GlobSync=f;var i=s(836),r=s(27),n=(r.Minimatch,s(734).Glob,s(23),s(928)),o=s(613),a=s(641),h=s(293),c=h.setopts,l=h.ownProp,u=h.childrenIgnored,p=h.isIgnored;function d(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new f(t,e).found}function f(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof f))return new f(t,e);if(c(this,t,e),this.noprocess)return this;var s=this.minimatch.set.length;this.matches=new Array(s);for(var i=0;i<s;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}f.prototype._finish=function(){if(o.ok(this instanceof f),this.realpath){var t=this;this.matches.forEach((function(e,s){var r=t.matches[s]=Object.create(null);for(var n in e)try{n=t._makeAbs(n),r[i.realpathSync(n,t.realpathCache)]=!0}catch(e){if("stat"!==e.syscall)throw e;r[t._makeAbs(n)]=!0}}))}h.finish(this)},f.prototype._process=function(t,e,s){o.ok(this instanceof f);for(var i,n=0;"string"==typeof t[n];)n++;switch(n){case t.length:return void this._processSimple(t.join("/"),e);case 0:i=null;break;default:i=t.slice(0,n).join("/")}var h,c=t.slice(n);null===i?h=".":a(i)||a(t.map((function(t){return"string"==typeof t?t:"[*]"})).join("/"))?(i&&a(i)||(i="/"+i),h=i):h=i;var l=this._makeAbs(h);u(this,h)||(c[0]===r.GLOBSTAR?this._processGlobStar(i,h,l,c,e,s):this._processReaddir(i,h,l,c,e,s))},f.prototype._processReaddir=function(t,e,s,i,r,o){var a=this._readdir(s,o);if(a){for(var h=i[0],c=!!this.minimatch.negate,l=h._glob,u=this.dot||"."===l.charAt(0),p=[],d=0;d<a.length;d++)("."!==(m=a[d]).charAt(0)||u)&&(c&&!t?!m.match(h):m.match(h))&&p.push(m);var f=p.length;if(0!==f)if(1!==i.length||this.mark||this.stat)for(i.shift(),d=0;d<f;d++){var g;m=p[d],g=t?[t,m]:[m],this._process(g.concat(i),r,o)}else{this.matches[r]||(this.matches[r]=Object.create(null));for(d=0;d<f;d++){var m=p[d];t&&(m="/"!==t.slice(-1)?t+"/"+m:t+m),"/"!==m.charAt(0)||this.nomount||(m=n.join(this.root,m)),this._emitMatch(r,m)}}}},f.prototype._emitMatch=function(t,e){if(!p(this,e)){var s=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=s),!this.matches[t][e]){if(this.nodir){var i=this.cache[s];if("DIR"===i||Array.isArray(i))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}},f.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,s;try{s=this.fs.lstatSync(t)}catch(t){if("ENOENT"===t.code)return null}var i=s&&s.isSymbolicLink();return this.symlinks[t]=i,i||!s||s.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},f.prototype._readdir=function(t,e){if(e&&!l(this.symlinks,t))return this._readdirInGlobStar(t);if(l(this.cache,t)){var s=this.cache[t];if(!s||"FILE"===s)return null;if(Array.isArray(s))return s}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},f.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var s=0;s<e.length;s++){var i=e[s];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,e},f.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var s=this._makeAbs(t);if(this.cache[s]="FILE",s===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);throw i.path=this.cwd,i.code=e.code,i}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},f.prototype._processGlobStar=function(t,e,s,i,r,n){var o=this._readdir(s,n);if(o){var a=i.slice(1),h=t?[t]:[],c=h.concat(a);this._process(c,r,!1);var l=o.length;if(!this.symlinks[s]||!n)for(var u=0;u<l;u++)if("."!==o[u].charAt(0)||this.dot){var p=h.concat(o[u],a);this._process(p,r,!0);var d=h.concat(o[u],i);this._process(d,r,!0)}}},f.prototype._processSimple=function(t,e){var s=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),s){if(t&&a(t)&&!this.nomount){var i=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=n.join(this.root,t):(t=n.resolve(this.root,t),i&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}},f.prototype._stat=function(t){var e=this._makeAbs(t),s="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&l(this.cache,e)){var i=this.cache[e];if(Array.isArray(i)&&(i="DIR"),!s||"DIR"===i)return i;if(s&&"FILE"===i)return!1}var r=this.statCache[e];if(!r){var n;try{n=this.fs.lstatSync(e)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return this.statCache[e]=!1,!1}if(n&&n.isSymbolicLink())try{r=this.fs.statSync(e)}catch(t){r=n}else r=n}return this.statCache[e]=r,i=!0,r&&(i=r.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||i,(!s||"FILE"!==i)&&i},f.prototype._mark=function(t){return h.mark(this,t)},f.prototype._makeAbs=function(t){return h.makeAbs(this,t)}},398:t=>{"use strict";t.exports=require("vscode")},420:function(t,e,s){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Minipass=e.isWritable=e.isReadable=e.isStream=void 0;const r="object"==typeof process&&process?process:{stdout:null,stderr:null},n=s(474),o=i(s(75)),a=s(193);e.isStream=t=>!!t&&"object"==typeof t&&(t instanceof $||t instanceof o.default||(0,e.isReadable)(t)||(0,e.isWritable)(t)),e.isReadable=t=>!!t&&"object"==typeof t&&t instanceof n.EventEmitter&&"function"==typeof t.pipe&&t.pipe!==o.default.Writable.prototype.pipe,e.isWritable=t=>!!t&&"object"==typeof t&&t instanceof n.EventEmitter&&"function"==typeof t.write&&"function"==typeof t.end;const h=Symbol("EOF"),c=Symbol("maybeEmitEnd"),l=Symbol("emittedEnd"),u=Symbol("emittingEnd"),p=Symbol("emittedError"),d=Symbol("closed"),f=Symbol("read"),g=Symbol("flush"),m=Symbol("flushChunk"),y=Symbol("encoding"),w=Symbol("decoder"),b=Symbol("flowing"),v=Symbol("paused"),S=Symbol("resume"),k=Symbol("buffer"),E=Symbol("pipes"),x=Symbol("bufferLength"),O=Symbol("bufferPush"),_=Symbol("bufferShift"),T=Symbol("objectMode"),A=Symbol("destroyed"),M=Symbol("error"),L=Symbol("emitData"),C=Symbol("emitEnd"),P=Symbol("emitEnd2"),N=Symbol("async"),j=Symbol("abort"),R=Symbol("aborted"),F=Symbol("signal"),D=Symbol("dataListeners"),I=Symbol("discarded"),z=t=>Promise.resolve().then(t),B=t=>t();class W{src;dest;opts;ondrain;constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[S](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class G extends W{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=t=>e.emit("error",t),t.on("error",this.proxyErrors)}}class $ extends n.EventEmitter{[b]=!1;[v]=!1;[E]=[];[k]=[];[T];[y];[N];[w];[h]=!1;[l]=!1;[u]=!1;[d]=!1;[p]=null;[x]=0;[A]=!1;[F];[R]=!1;[D]=0;[I]=!1;writable=!0;readable=!0;constructor(...t){const e=t[0]||{};if(super(),e.objectMode&&"string"==typeof e.encoding)throw new TypeError("Encoding and objectMode may not be used together");var s;e.objectMode?(this[T]=!0,this[y]=null):!(s=e).objectMode&&s.encoding&&"buffer"!==s.encoding?(this[y]=e.encoding,this[T]=!1):(this[T]=!1,this[y]=null),this[N]=!!e.async,this[w]=this[y]?new a.StringDecoder(this[y]):null,e&&!0===e.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[k]}),e&&!0===e.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[E]});const{signal:i}=e;i&&(this[F]=i,i.aborted?this[j]():i.addEventListener("abort",(()=>this[j]())))}get bufferLength(){return this[x]}get encoding(){return this[y]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[T]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[N]}set async(t){this[N]=this[N]||!!t}[j](){this[R]=!0,this.emit("abort",this[F]?.reason),this.destroy(this[F]?.reason)}get aborted(){return this[R]}set aborted(t){}write(t,e,s){if(this[R])return!1;if(this[h])throw new Error("write after end");if(this[A])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof e&&(s=e,e="utf8"),e||(e="utf8");const i=this[N]?z:B;if(!this[T]&&!Buffer.isBuffer(t))if(r=t,!Buffer.isBuffer(r)&&ArrayBuffer.isView(r))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if((t=>t instanceof ArrayBuffer||!!t&&"object"==typeof t&&t.constructor&&"ArrayBuffer"===t.constructor.name&&t.byteLength>=0)(t))t=Buffer.from(t);else if("string"!=typeof t)throw new Error("Non-contiguous data written to non-objectMode stream");var r;return this[T]?(this[b]&&0!==this[x]&&this[g](!0),this[b]?this.emit("data",t):this[O](t),0!==this[x]&&this.emit("readable"),s&&i(s),this[b]):t.length?("string"!=typeof t||e===this[y]&&!this[w]?.lastNeed||(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[y]&&(t=this[w].write(t)),this[b]&&0!==this[x]&&this[g](!0),this[b]?this.emit("data",t):this[O](t),0!==this[x]&&this.emit("readable"),s&&i(s),this[b]):(0!==this[x]&&this.emit("readable"),s&&i(s),this[b])}read(t){if(this[A])return null;if(this[I]=!1,0===this[x]||0===t||t&&t>this[x])return this[c](),null;this[T]&&(t=null),this[k].length>1&&!this[T]&&(this[k]=[this[y]?this[k].join(""):Buffer.concat(this[k],this[x])]);const e=this[f](t||null,this[k][0]);return this[c](),e}[f](t,e){if(this[T])this[_]();else{const s=e;t===s.length||null===t?this[_]():"string"==typeof s?(this[k][0]=s.slice(t),e=s.slice(0,t),this[x]-=t):(this[k][0]=s.subarray(t),e=s.subarray(0,t),this[x]-=t)}return this.emit("data",e),this[k].length||this[h]||this.emit("drain"),e}end(t,e,s){return"function"==typeof t&&(s=t,t=void 0),"function"==typeof e&&(s=e,e="utf8"),void 0!==t&&this.write(t,e),s&&this.once("end",s),this[h]=!0,this.writable=!1,!this[b]&&this[v]||this[c](),this}[S](){this[A]||(this[D]||this[E].length||(this[I]=!0),this[v]=!1,this[b]=!0,this.emit("resume"),this[k].length?this[g]():this[h]?this[c]():this.emit("drain"))}resume(){return this[S]()}pause(){this[b]=!1,this[v]=!0,this[I]=!1}get destroyed(){return this[A]}get flowing(){return this[b]}get paused(){return this[v]}[O](t){this[T]?this[x]+=1:this[x]+=t.length,this[k].push(t)}[_](){return this[T]?this[x]-=1:this[x]-=this[k][0].length,this[k].shift()}[g](t=!1){do{}while(this[m](this[_]())&&this[k].length);t||this[k].length||this[h]||this.emit("drain")}[m](t){return this.emit("data",t),this[b]}pipe(t,e){if(this[A])return t;this[I]=!1;const s=this[l];return e=e||{},t===r.stdout||t===r.stderr?e.end=!1:e.end=!1!==e.end,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[E].push(e.proxyErrors?new G(this,t,e):new W(this,t,e)),this[N]?z((()=>this[S]())):this[S]()),t}unpipe(t){const e=this[E].find((e=>e.dest===t));e&&(1===this[E].length?(this[b]&&0===this[D]&&(this[b]=!1),this[E]=[]):this[E].splice(this[E].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const s=super.on(t,e);if("data"===t)this[I]=!1,this[D]++,this[E].length||this[b]||this[S]();else if("readable"===t&&0!==this[x])super.emit("readable");else if((t=>"end"===t||"finish"===t||"prefinish"===t)(t)&&this[l])super.emit(t),this.removeAllListeners(t);else if("error"===t&&this[p]){const t=e;this[N]?z((()=>t.call(this,this[p]))):t.call(this,this[p])}return s}removeListener(t,e){return this.off(t,e)}off(t,e){const s=super.off(t,e);return"data"===t&&(this[D]=this.listeners("data").length,0!==this[D]||this[I]||this[E].length||(this[b]=!1)),s}removeAllListeners(t){const e=super.removeAllListeners(t);return"data"!==t&&void 0!==t||(this[D]=0,this[I]||this[E].length||(this[b]=!1)),e}get emittedEnd(){return this[l]}[c](){this[u]||this[l]||this[A]||0!==this[k].length||!this[h]||(this[u]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[d]&&this.emit("close"),this[u]=!1)}emit(t,...e){const s=e[0];if("error"!==t&&"close"!==t&&t!==A&&this[A])return!1;if("data"===t)return!(!this[T]&&!s)&&(this[N]?(z((()=>this[L](s))),!0):this[L](s));if("end"===t)return this[C]();if("close"===t){if(this[d]=!0,!this[l]&&!this[A])return!1;const t=super.emit("close");return this.removeAllListeners("close"),t}if("error"===t){this[p]=s,super.emit(M,s);const t=!(this[F]&&!this.listeners("error").length)&&super.emit("error",s);return this[c](),t}if("resume"===t){const t=super.emit("resume");return this[c](),t}if("finish"===t||"prefinish"===t){const e=super.emit(t);return this.removeAllListeners(t),e}const i=super.emit(t,...e);return this[c](),i}[L](t){for(const e of this[E])!1===e.dest.write(t)&&this.pause();const e=!this[I]&&super.emit("data",t);return this[c](),e}[C](){return!this[l]&&(this[l]=!0,this.readable=!1,this[N]?(z((()=>this[P]())),!0):this[P]())}[P](){if(this[w]){const t=this[w].end();if(t){for(const e of this[E])e.dest.write(t);this[I]||super.emit("data",t)}}for(const t of this[E])t.end();const t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){const t=Object.assign([],{dataLength:0});this[T]||(t.dataLength=0);const e=this.promise();return this.on("data",(e=>{t.push(e),this[T]||(t.dataLength+=e.length)})),await e,t}async concat(){if(this[T])throw new Error("cannot concat in objectMode");const t=await this.collect();return this[y]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise(((t,e)=>{this.on(A,(()=>e(new Error("stream destroyed")))),this.on("error",(t=>e(t))),this.on("end",(()=>t()))}))}[Symbol.asyncIterator](){this[I]=!1;let t=!1;const e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return e();const s=this.read();if(null!==s)return Promise.resolve({done:!1,value:s});if(this[h])return e();let i,r;const n=t=>{this.off("data",o),this.off("end",a),this.off(A,c),e(),r(t)},o=t=>{this.off("error",n),this.off("end",a),this.off(A,c),this.pause(),i({value:t,done:!!this[h]})},a=()=>{this.off("error",n),this.off("data",o),this.off(A,c),e(),i({done:!0,value:void 0})},c=()=>n(new Error("stream destroyed"));return new Promise(((t,e)=>{r=e,i=t,this.once(A,c),this.once("error",n),this.once("end",a),this.once("data",o)}))},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[I]=!1;let t=!1;const e=()=>(this.pause(),this.off(M,e),this.off(A,e),this.off("end",e),t=!0,{done:!0,value:void 0});return this.once("end",e),this.once(M,e),this.once(A,e),{next:()=>{if(t)return e();const s=this.read();return null===s?e():{done:!1,value:s}},throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){return this[A]?(t?this.emit("error",t):this.emit(A),this):(this[A]=!0,this[I]=!0,this[k].length=0,this[x]=0,"function"!=typeof this.close||this[d]||this.close(),t?this.emit("error",t):this.emit(A),this)}static get isStream(){return e.isStream}}e.Minipass=$},422:(t,e,s)=>{var i=s(505);t.exports=function(t){return t?("{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2)),m(function(t){return t.split("\\\\").join(r).split("\\{").join(n).split("\\}").join(o).split("\\,").join(a).split("\\.").join(h)}(t),!0).map(l)):[]};var r="\0SLASH"+Math.random()+"\0",n="\0OPEN"+Math.random()+"\0",o="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",h="\0PERIOD"+Math.random()+"\0";function c(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function l(t){return t.split(r).join("\\").split(n).join("{").split(o).join("}").split(a).join(",").split(h).join(".")}function u(t){if(!t)return[""];var e=[],s=i("{","}",t);if(!s)return t.split(",");var r=s.pre,n=s.body,o=s.post,a=r.split(",");a[a.length-1]+="{"+n+"}";var h=u(o);return o.length&&(a[a.length-1]+=h.shift(),a.push.apply(a,h)),e.push.apply(e,a),e}function p(t){return"{"+t+"}"}function d(t){return/^-?0\d/.test(t)}function f(t,e){return t<=e}function g(t,e){return t>=e}function m(t,e){var s=[],r=i("{","}",t);if(!r)return[t];var n=r.pre,a=r.post.length?m(r.post,!1):[""];if(/\$$/.test(r.pre))for(var h=0;h<a.length;h++){var l=n+"{"+r.body+"}"+a[h];s.push(l)}else{var y,w,b=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),v=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),S=b||v,k=r.body.indexOf(",")>=0;if(!S&&!k)return r.post.match(/,.*\}/)?m(t=r.pre+"{"+r.body+o+r.post):[t];if(S)y=r.body.split(/\.\./);else if(1===(y=u(r.body)).length&&1===(y=m(y[0],!1).map(p)).length)return a.map((function(t){return r.pre+y[0]+t}));if(S){var E=c(y[0]),x=c(y[1]),O=Math.max(y[0].length,y[1].length),_=3==y.length?Math.abs(c(y[2])):1,T=f;x<E&&(_*=-1,T=g);var A=y.some(d);w=[];for(var M=E;T(M,x);M+=_){var L;if(v)"\\"===(L=String.fromCharCode(M))&&(L="");else if(L=String(M),A){var C=O-L.length;if(C>0){var P=new Array(C+1).join("0");L=M<0?"-"+P+L.slice(1):P+L}}w.push(L)}}else{w=[];for(var N=0;N<y.length;N++)w.push.apply(w,m(y[N],!1))}for(N=0;N<w.length;N++)for(h=0;h<a.length;h++)l=n+w[N]+a[h],(!e||S||l)&&s.push(l)}return s}},423:(t,e,s)=>{var i=s(587),r=Object.create(null),n=s(519);t.exports=i((function(t,e){return r[t]?(r[t].push(e),null):(r[t]=[e],function(t){return n((function e(){var s=r[t],i=s.length,n=function(t){for(var e=t.length,s=[],i=0;i<e;i++)s[i]=t[i];return s}(arguments);try{for(var o=0;o<i;o++)s[o].apply(null,n)}finally{s.length>i?(s.splice(0,i),process.nextTick((function(){e.apply(null,n)}))):delete r[t]}}))}(t))}))},434:t=>{"use strict";t.exports=require("events")},455:t=>{"use strict";t.exports=require("node:fs/promises")},474:t=>{"use strict";t.exports=require("node:events")},478:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Pattern=void 0;const i=s(144);class r{#rt;#nt;#ot;length;#at;#ht;#ct;#lt;#ut;#pt;#dt=!0;constructor(t,e,s,i){if(!(t.length>=1))throw new TypeError("empty pattern list");if(!(e.length>=1))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#rt=t,this.#nt=e,this.#ot=s,this.#at=i,0===this.#ot)if(this.isUNC()){const[t,e,s,i,...r]=this.#rt,[n,o,a,h,...c]=this.#nt;""===r[0]&&(r.shift(),c.shift());const l=[t,e,s,i,""].join("/"),u=[n,o,a,h,""].join("/");this.#rt=[l,...r],this.#nt=[u,...c],this.length=this.#rt.length}else if(this.isDrive()||this.isAbsolute()){const[t,...e]=this.#rt,[s,...i]=this.#nt;""===e[0]&&(e.shift(),i.shift());const r=t+"/",n=s+"/";this.#rt=[r,...e],this.#nt=[n,...i],this.length=this.#rt.length}}pattern(){return this.#rt[this.#ot]}isString(){return"string"==typeof this.#rt[this.#ot]}isGlobstar(){return this.#rt[this.#ot]===i.GLOBSTAR}isRegExp(){return this.#rt[this.#ot]instanceof RegExp}globString(){return this.#ct=this.#ct||(0===this.#ot?this.isAbsolute()?this.#nt[0]+this.#nt.slice(1).join("/"):this.#nt.join("/"):this.#nt.slice(this.#ot).join("/"))}hasMore(){return this.length>this.#ot+1}rest(){return void 0!==this.#ht?this.#ht:this.hasMore()?(this.#ht=new r(this.#rt,this.#nt,this.#ot+1,this.#at),this.#ht.#pt=this.#pt,this.#ht.#ut=this.#ut,this.#ht.#lt=this.#lt,this.#ht):this.#ht=null}isUNC(){const t=this.#rt;return void 0!==this.#ut?this.#ut:this.#ut="win32"===this.#at&&0===this.#ot&&""===t[0]&&""===t[1]&&"string"==typeof t[2]&&!!t[2]&&"string"==typeof t[3]&&!!t[3]}isDrive(){const t=this.#rt;return void 0!==this.#lt?this.#lt:this.#lt="win32"===this.#at&&0===this.#ot&&this.length>1&&"string"==typeof t[0]&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#rt;return void 0!==this.#pt?this.#pt:this.#pt=""===t[0]&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#rt[0];return"string"==typeof t&&this.isAbsolute()&&0===this.#ot?t:""}checkFollowGlobstar(){return!(0===this.#ot||!this.isGlobstar()||!this.#dt)}markFollowGlobstar(){return!(0===this.#ot||!this.isGlobstar()||!this.#dt||(this.#dt=!1,0))}}e.Pattern=r},496:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertValidPattern=void 0,e.assertValidPattern=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")}},505:t=>{"use strict";function e(t,e,r){t instanceof RegExp&&(t=s(t,r)),e instanceof RegExp&&(e=s(e,r));var n=i(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function s(t,e){var s=e.match(t);return s?s[0]:null}function i(t,e,s){var i,r,n,o,a,h=s.indexOf(t),c=s.indexOf(e,h+1),l=h;if(h>=0&&c>0){for(i=[],n=s.length;l>=0&&!a;)l==h?(i.push(l),h=s.indexOf(t,l+1)):1==i.length?a=[i.pop(),c]:((r=i.pop())<n&&(n=r,o=c),c=s.indexOf(e,l+1)),l=h<c&&h>=0?h:c;i.length&&(a=[n,o])}return a}t.exports=e,e.range=i},519:(t,e,s)=>{var i=s(587);function r(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function n(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},s=t.name||"Function wrapped with `once`";return e.onceError=s+" shouldn't be called more than once",e.called=!1,e}t.exports=i(r),t.exports.strict=i(n),r.proto=r((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return n(this)},configurable:!0})}))},547:(t,e,s)=>{var i=s(818),r=s(505);t.exports=function(t){return t?("{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2)),y(function(t){return t.split("\\\\").join(n).split("\\{").join(o).split("\\}").join(a).split("\\,").join(h).split("\\.").join(c)}(t),!0).map(u)):[]};var n="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",h="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function l(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function u(t){return t.split(n).join("\\").split(o).join("{").split(a).join("}").split(h).join(",").split(c).join(".")}function p(t){if(!t)return[""];var e=[],s=r("{","}",t);if(!s)return t.split(",");var i=s.pre,n=s.body,o=s.post,a=i.split(",");a[a.length-1]+="{"+n+"}";var h=p(o);return o.length&&(a[a.length-1]+=h.shift(),a.push.apply(a,h)),e.push.apply(e,a),e}function d(t){return"{"+t+"}"}function f(t){return/^-?0\d/.test(t)}function g(t,e){return t<=e}function m(t,e){return t>=e}function y(t,e){var s=[],n=r("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var o,h=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=h||c,w=n.body.indexOf(",")>=0;if(!u&&!w)return n.post.match(/,.*\}/)?y(t=n.pre+"{"+n.body+a+n.post):[t];if(u)o=n.body.split(/\.\./);else if(1===(o=p(n.body)).length&&1===(o=y(o[0],!1).map(d)).length)return(S=n.post.length?y(n.post,!1):[""]).map((function(t){return n.pre+o[0]+t}));var b,v=n.pre,S=n.post.length?y(n.post,!1):[""];if(u){var k=l(o[0]),E=l(o[1]),x=Math.max(o[0].length,o[1].length),O=3==o.length?Math.abs(l(o[2])):1,_=g;E<k&&(O*=-1,_=m);var T=o.some(f);b=[];for(var A=k;_(A,E);A+=O){var M;if(c)"\\"===(M=String.fromCharCode(A))&&(M="");else if(M=String(A),T){var L=x-M.length;if(L>0){var C=new Array(L+1).join("0");M=A<0?"-"+C+M.slice(1):C+M}}b.push(M)}}else b=i(o,(function(t){return y(t,!1)}));for(var P=0;P<b.length;P++)for(var N=0;N<S.length;N++){var j=v+b[P]+S[N];(!e||u||j)&&s.push(j)}return s}},576:function(t,e,s){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,s,i){void 0===i&&(i=s);var r=Object.getOwnPropertyDescriptor(e,s);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,i,r)}:function(t,e,s,i){void 0===i&&(i=s),t[i]=e[s]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s in t)"default"!==s&&Object.prototype.hasOwnProperty.call(t,s)&&i(e,t,s);return r(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.PathScurry=e.Path=e.PathScurryDarwin=e.PathScurryPosix=e.PathScurryWin32=e.PathScurryBase=e.PathPosix=e.PathWin32=e.PathBase=e.ChildrenCache=e.ResolveCache=void 0;const o=s(96),a=s(760),h=s(136),c=s(896),l=n(s(24)),u=c.realpathSync.native,p=s(455),d=s(420),f={lstatSync:c.lstatSync,readdir:c.readdir,readdirSync:c.readdirSync,readlinkSync:c.readlinkSync,realpathSync:u,promises:{lstat:p.lstat,readdir:p.readdir,readlink:p.readlink,realpath:p.realpath}},g=t=>t&&t!==f&&t!==l?{...f,...t,promises:{...f.promises,...t.promises||{}}}:f,m=/^\\\\\?\\([a-z]:)\\?$/i,y=/[\\\/]/,w=10,b=15,v=-16,S=128,k=t=>t.isFile()?8:t.isDirectory()?4:t.isSymbolicLink()?w:t.isCharacterDevice()?2:t.isBlockDevice()?6:t.isSocket()?12:t.isFIFO()?1:0,E=new Map,x=t=>{const e=E.get(t);if(e)return e;const s=t.normalize("NFKD");return E.set(t,s),s},O=new Map,_=t=>{const e=O.get(t);if(e)return e;const s=x(t.toLowerCase());return O.set(t,s),s};class T extends o.LRUCache{constructor(){super({max:256})}}e.ResolveCache=T;class A extends o.LRUCache{constructor(t=16384){super({maxSize:t,sizeCalculation:t=>t.length+1})}}e.ChildrenCache=A;const M=Symbol("PathScurry setAsCwd");class L{name;root;roots;parent;nocase;isCWD=!1;#ft;#gt;get dev(){return this.#gt}#mt;get mode(){return this.#mt}#yt;get nlink(){return this.#yt}#wt;get uid(){return this.#wt}#bt;get gid(){return this.#bt}#vt;get rdev(){return this.#vt}#St;get blksize(){return this.#St}#kt;get ino(){return this.#kt}#a;get size(){return this.#a}#Et;get blocks(){return this.#Et}#xt;get atimeMs(){return this.#xt}#Ot;get mtimeMs(){return this.#Ot}#_t;get ctimeMs(){return this.#_t}#Tt;get birthtimeMs(){return this.#Tt}#At;get atime(){return this.#At}#Mt;get mtime(){return this.#Mt}#Lt;get ctime(){return this.#Lt}#Ct;get birthtime(){return this.#Ct}#Pt;#Nt;#jt;#Rt;#Ft;#Dt;#It;#zt;#Bt;#Wt;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(t,e=0,s,i,r,n,o){this.name=t,this.#Pt=r?_(t):x(t),this.#It=1023&e,this.nocase=r,this.roots=i,this.root=s||this,this.#zt=n,this.#jt=o.fullpath,this.#Ft=o.relative,this.#Dt=o.relativePosix,this.parent=o.parent,this.parent?this.#ft=this.parent.#ft:this.#ft=g(o.fs)}depth(){return void 0!==this.#Nt?this.#Nt:this.parent?this.#Nt=this.parent.depth()+1:this.#Nt=0}childrenCache(){return this.#zt}resolve(t){if(!t)return this;const e=this.getRootString(t),s=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#Gt(s):this.#Gt(s)}#Gt(t){let e=this;for(const s of t)e=e.child(s);return e}children(){const t=this.#zt.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#zt.set(this,e),this.#It&=-17,e}child(t,e){if(""===t||"."===t)return this;if(".."===t)return this.parent||this;const s=this.children(),i=this.nocase?_(t):x(t);for(const t of s)if(t.#Pt===i)return t;const r=this.parent?this.sep:"",n=this.#jt?this.#jt+r+t:void 0,o=this.newChild(t,0,{...e,parent:this,fullpath:n});return this.canReaddir()||(o.#It|=S),s.push(o),o}relative(){if(this.isCWD)return"";if(void 0!==this.#Ft)return this.#Ft;const t=this.name,e=this.parent;if(!e)return this.#Ft=this.name;const s=e.relative();return s+(s&&e.parent?this.sep:"")+t}relativePosix(){if("/"===this.sep)return this.relative();if(this.isCWD)return"";if(void 0!==this.#Dt)return this.#Dt;const t=this.name,e=this.parent;if(!e)return this.#Dt=this.fullpathPosix();const s=e.relativePosix();return s+(s&&e.parent?"/":"")+t}fullpath(){if(void 0!==this.#jt)return this.#jt;const t=this.name,e=this.parent;if(!e)return this.#jt=this.name;const s=e.fullpath()+(e.parent?this.sep:"")+t;return this.#jt=s}fullpathPosix(){if(void 0!==this.#Rt)return this.#Rt;if("/"===this.sep)return this.#Rt=this.fullpath();if(!this.parent){const t=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(t)?this.#Rt=`//?/${t}`:this.#Rt=t}const t=this.parent,e=t.fullpathPosix(),s=e+(e&&t.parent?"/":"")+this.name;return this.#Rt=s}isUnknown(){return!(this.#It&b)}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return 8==(this.#It&b)}isDirectory(){return 4==(this.#It&b)}isCharacterDevice(){return 2==(this.#It&b)}isBlockDevice(){return 6==(this.#It&b)}isFIFO(){return 1==(this.#It&b)}isSocket(){return 12==(this.#It&b)}isSymbolicLink(){return(this.#It&w)===w}lstatCached(){return 32&this.#It?this:void 0}readlinkCached(){return this.#Bt}realpathCached(){return this.#Wt}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#Bt)return!0;if(!this.parent)return!1;const t=this.#It&b;return!(0!==t&&t!==w||256&this.#It||this.#It&S)}calledReaddir(){return!!(16&this.#It)}isENOENT(){return!!(this.#It&S)}isNamed(t){return this.nocase?this.#Pt===_(t):this.#Pt===x(t)}async readlink(){const t=this.#Bt;if(t)return t;if(this.canReadlink()&&this.parent)try{const t=await this.#ft.promises.readlink(this.fullpath()),e=(await this.parent.realpath())?.resolve(t);if(e)return this.#Bt=e}catch(t){return void this.#$t(t.code)}}readlinkSync(){const t=this.#Bt;if(t)return t;if(this.canReadlink()&&this.parent)try{const t=this.#ft.readlinkSync(this.fullpath()),e=this.parent.realpathSync()?.resolve(t);if(e)return this.#Bt=e}catch(t){return void this.#$t(t.code)}}#Ut(t){this.#It|=16;for(let e=t.provisional;e<t.length;e++){const s=t[e];s&&s.#qt()}}#qt(){this.#It&S||(this.#It=(this.#It|S)&v,this.#Ht())}#Ht(){const t=this.children();t.provisional=0;for(const e of t)e.#qt()}#Vt(){this.#It|=512,this.#Yt()}#Yt(){if(64&this.#It)return;let t=this.#It;4==(t&b)&&(t&=v),this.#It=64|t,this.#Ht()}#Qt(t=""){"ENOTDIR"===t||"EPERM"===t?this.#Yt():"ENOENT"===t?this.#qt():this.children().provisional=0}#Zt(t=""){"ENOTDIR"===t?this.parent.#Yt():"ENOENT"===t&&this.#qt()}#$t(t=""){let e=this.#It;e|=256,"ENOENT"===t&&(e|=S),"EINVAL"!==t&&"UNKNOWN"!==t||(e&=v),this.#It=e,"ENOTDIR"===t&&this.parent&&this.parent.#Yt()}#Kt(t,e){return this.#Jt(t,e)||this.#Xt(t,e)}#Xt(t,e){const s=k(t),i=this.newChild(t.name,s,{parent:this}),r=i.#It&b;return 4!==r&&r!==w&&0!==r&&(i.#It|=64),e.unshift(i),e.provisional++,i}#Jt(t,e){for(let s=e.provisional;s<e.length;s++){const i=e[s];if((this.nocase?_(t.name):x(t.name))===i.#Pt)return this.#te(t,i,s,e)}}#te(t,e,s,i){const r=e.name;return e.#It=e.#It&v|k(t),r!==t.name&&(e.name=t.name),s!==i.provisional&&(s===i.length-1?i.pop():i.splice(s,1),i.unshift(e)),i.provisional++,e}async lstat(){if(!(this.#It&S))try{return this.#ee(await this.#ft.promises.lstat(this.fullpath())),this}catch(t){this.#Zt(t.code)}}lstatSync(){if(!(this.#It&S))try{return this.#ee(this.#ft.lstatSync(this.fullpath())),this}catch(t){this.#Zt(t.code)}}#ee(t){const{atime:e,atimeMs:s,birthtime:i,birthtimeMs:r,blksize:n,blocks:o,ctime:a,ctimeMs:h,dev:c,gid:l,ino:u,mode:p,mtime:d,mtimeMs:f,nlink:g,rdev:m,size:y,uid:b}=t;this.#At=e,this.#xt=s,this.#Ct=i,this.#Tt=r,this.#St=n,this.#Et=o,this.#Lt=a,this.#_t=h,this.#gt=c,this.#bt=l,this.#kt=u,this.#mt=p,this.#Mt=d,this.#Ot=f,this.#yt=g,this.#vt=m,this.#a=y,this.#wt=b;const S=k(t);this.#It=this.#It&v|S|32,0!==S&&4!==S&&S!==w&&(this.#It|=64)}#se=[];#ie=!1;#re(t){this.#ie=!1;const e=this.#se.slice();this.#se.length=0,e.forEach((e=>e(null,t)))}readdirCB(t,e=!1){if(!this.canReaddir())return void(e?t(null,[]):queueMicrotask((()=>t(null,[]))));const s=this.children();if(this.calledReaddir()){const i=s.slice(0,s.provisional);return void(e?t(null,i):queueMicrotask((()=>t(null,i))))}if(this.#se.push(t),this.#ie)return;this.#ie=!0;const i=this.fullpath();this.#ft.readdir(i,{withFileTypes:!0},((t,e)=>{if(t)this.#Qt(t.code),s.provisional=0;else{for(const t of e)this.#Kt(t,s);this.#Ut(s)}this.#re(s.slice(0,s.provisional))}))}#ne;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#ne)await this.#ne;else{let s=()=>{};this.#ne=new Promise((t=>s=t));try{for(const s of await this.#ft.promises.readdir(e,{withFileTypes:!0}))this.#Kt(s,t);this.#Ut(t)}catch(e){this.#Qt(e.code),t.provisional=0}this.#ne=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const s of this.#ft.readdirSync(e,{withFileTypes:!0}))this.#Kt(s,t);this.#Ut(t)}catch(e){this.#Qt(e.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(704&this.#It)return!1;const t=b&this.#It;return 0===t||4===t||t===w}shouldWalk(t,e){return!(4&~this.#It)&&!(704&this.#It)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#Wt)return this.#Wt;if(!(896&this.#It))try{const t=await this.#ft.promises.realpath(this.fullpath());return this.#Wt=this.resolve(t)}catch(t){this.#Vt()}}realpathSync(){if(this.#Wt)return this.#Wt;if(!(896&this.#It))try{const t=this.#ft.realpathSync(this.fullpath());return this.#Wt=this.resolve(t)}catch(t){this.#Vt()}}[M](t){if(t===this)return;t.isCWD=!1,this.isCWD=!0;const e=new Set([]);let s=[],i=this;for(;i&&i.parent;)e.add(i),i.#Ft=s.join(this.sep),i.#Dt=s.join("/"),i=i.parent,s.push("..");for(i=t;i&&i.parent&&!e.has(i);)i.#Ft=void 0,i.#Dt=void 0,i=i.parent}}e.PathBase=L;class C extends L{sep="\\";splitSep=y;constructor(t,e=0,s,i,r,n,o){super(t,e,s,i,r,n,o)}newChild(t,e=0,s={}){return new C(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return a.win32.parse(t).root}getRoot(t){if((t=(t=>t.replace(/\//g,"\\").replace(m,"$1\\"))(t.toUpperCase()))===this.root.name)return this.root;for(const[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new j(t,this).root}sameRoot(t,e=this.root.name){return(t=t.toUpperCase().replace(/\//g,"\\").replace(m,"$1\\"))===e}}e.PathWin32=C;class P extends L{splitSep="/";sep="/";constructor(t,e=0,s,i,r,n,o){super(t,e,s,i,r,n,o)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=0,s={}){return new P(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}}e.PathPosix=P;class N{root;rootPath;roots;cwd;#oe;#ae;#zt;nocase;#ft;constructor(t=process.cwd(),e,s,{nocase:i,childrenCacheSize:r=16384,fs:n=f}={}){this.#ft=g(n),(t instanceof URL||t.startsWith("file://"))&&(t=(0,h.fileURLToPath)(t));const o=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(o),this.#oe=new T,this.#ae=new T,this.#zt=new A(r);const a=o.substring(this.rootPath.length).split(s);if(1!==a.length||a[0]||a.pop(),void 0===i)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#ft),this.roots[this.rootPath]=this.root;let c=this.root,l=a.length-1;const u=e.sep;let p=this.rootPath,d=!1;for(const t of a){const e=l--;c=c.child(t,{relative:new Array(e).fill("..").join(u),relativePosix:new Array(e).fill("..").join("/"),fullpath:p+=(d?"":u)+t}),d=!0}this.cwd=c}depth(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#zt}resolve(...t){let e="";for(let s=t.length-1;s>=0;s--){const i=t[s];if(i&&"."!==i&&(e=e?`${i}/${e}`:i,this.isAbsolute(i)))break}const s=this.#oe.get(e);if(void 0!==s)return s;const i=this.cwd.resolve(e).fullpath();return this.#oe.set(e,i),i}resolvePosix(...t){let e="";for(let s=t.length-1;s>=0;s--){const i=t[s];if(i&&"."!==i&&(e=e?`${i}/${e}`:i,this.isAbsolute(i)))break}const s=this.#ae.get(e);if(void 0!==s)return s;const i=this.cwd.resolve(e).fullpathPosix();return this.#ae.set(e,i),i}relative(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof L||(e=t,t=this.cwd);const{withFileTypes:s}=e;if(t.canReaddir()){const e=await t.readdir();return s?e:e.map((t=>t.name))}return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof L||(e=t,t=this.cwd);const{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map((t=>t.name)):[]}async lstat(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof L||(e=t.withFileTypes,t=this.cwd);const s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof L||(e=t.withFileTypes,t=this.cwd);const s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof L||(e=t.withFileTypes,t=this.cwd);const s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof L||(e=t.withFileTypes,t=this.cwd);const s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof L||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:r,walkFilter:n}=e,o=[];r&&!r(t)||o.push(s?t:t.fullpath());const a=new Set,h=(t,e)=>{a.add(t),t.readdirCB(((t,c)=>{if(t)return e(t);let l=c.length;if(!l)return e();const u=()=>{0==--l&&e()};for(const t of c)r&&!r(t)||o.push(s?t:t.fullpath()),i&&t.isSymbolicLink()?t.realpath().then((t=>t?.isUnknown()?t.lstat():t)).then((t=>t?.shouldWalk(a,n)?h(t,u):u())):t.shouldWalk(a,n)?h(t,u):u()}),!0)},c=t;return new Promise(((t,e)=>{h(c,(s=>{if(s)return e(s);t(o)}))}))}walkSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof L||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:r,walkFilter:n}=e,o=[];r&&!r(t)||o.push(s?t:t.fullpath());const a=new Set([t]);for(const t of a){const e=t.readdirSync();for(const t of e){r&&!r(t)||o.push(s?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!i||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,n)&&a.add(e)}}return o}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return"string"==typeof t?t=this.cwd.resolve(t):t instanceof L||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof L||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:r,walkFilter:n}=e;r&&!r(t)||(yield s?t:t.fullpath());const o=new Set([t]);for(const t of o){const e=t.readdirSync();for(const t of e){r&&!r(t)||(yield s?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!i||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(o,n)&&o.add(e)}}}stream(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof L||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:r,walkFilter:n}=e,o=new d.Minipass({objectMode:!0});r&&!r(t)||o.write(s?t:t.fullpath());const a=new Set,h=[t];let c=0;const l=()=>{let t=!1;for(;!t;){const e=h.shift();if(!e)return void(0===c&&o.end());c++,a.add(e);const u=(e,d,f=!1)=>{if(e)return o.emit("error",e);if(i&&!f){const t=[];for(const e of d)e.isSymbolicLink()&&t.push(e.realpath().then((t=>t?.isUnknown()?t.lstat():t)));if(t.length)return void Promise.all(t).then((()=>u(null,d,!0)))}for(const e of d)!e||r&&!r(e)||o.write(s?e:e.fullpath())||(t=!0);c--;for(const t of d){const e=t.realpathCached()||t;e.shouldWalk(a,n)&&h.push(e)}t&&!o.flowing?o.once("drain",l):p||l()};let p=!0;e.readdirCB(u,!0),p=!1}};return l(),o}streamSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof L||(e=t,t=this.cwd);const{withFileTypes:s=!0,follow:i=!1,filter:r,walkFilter:n}=e,o=new d.Minipass({objectMode:!0}),a=new Set;r&&!r(t)||o.write(s?t:t.fullpath());const h=[t];let c=0;const l=()=>{let t=!1;for(;!t;){const e=h.shift();if(!e)return void(0===c&&o.end());c++,a.add(e);const l=e.readdirSync();for(const e of l)r&&!r(e)||o.write(s?e:e.fullpath())||(t=!0);c--;for(const t of l){let e=t;if(t.isSymbolicLink()){if(!i||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,n)&&h.push(e)}}t&&!o.flowing&&o.once("drain",l)};return l(),o}chdir(t=this.cwd){const e=this.cwd;this.cwd="string"==typeof t?this.cwd.resolve(t):t,this.cwd[M](e)}}e.PathScurryBase=N;class j extends N{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,a.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let t=this.cwd;t;t=t.parent)t.nocase=this.nocase}parseRootPath(t){return a.win32.parse(t).root.toUpperCase()}newRoot(t){return new C(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}e.PathScurryWin32=j;class R extends N{sep="/";constructor(t=process.cwd(),e={}){const{nocase:s=!1}=e;super(t,a.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new P(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}e.PathScurryPosix=R;class F extends R{constructor(t=process.cwd(),e={}){const{nocase:s=!0}=e;super(t,{...e,nocase:s})}}e.PathScurryDarwin=F,e.Path="win32"===process.platform?C:P,e.PathScurry="win32"===process.platform?j:"darwin"===process.platform?F:R},577:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.escape=void 0,e.escape=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&")},587:t=>{t.exports=function t(e,s){if(e&&s)return t(e)(s);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){i[t]=e[t]})),i;function i(){for(var t=new Array(arguments.length),s=0;s<t.length;s++)t[s]=arguments[s];var i=e.apply(this,t),r=t[t.length-1];return"function"==typeof i&&i!==r&&Object.keys(r).forEach((function(t){i[t]=r[t]})),i}}},613:t=>{"use strict";t.exports=require("assert")},641:t=>{"use strict";function e(t){return"/"===t.charAt(0)}function s(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(t),s=e[1]||"",i=Boolean(s&&":"!==s.charAt(1));return Boolean(e[2]||i)}t.exports="win32"===process.platform?s:e,t.exports.posix=e,t.exports.win32=s},674:(t,e,s)=>{var i=s(928),r="win32"===process.platform,n=s(896),o=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);if(i.normalize,r)var a=/(.*?)(?:[\/\\]+|$)/g;else a=/(.*?)(?:[\/]+|$)/g;if(r)var h=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else h=/^[\/]*/;e.realpathSync=function(t,e){if(t=i.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return e[t];var s,o,c,l,u=t,p={},d={};function f(){var e=h.exec(t);s=e[0].length,o=e[0],c=e[0],l="",r&&!d[c]&&(n.lstatSync(c),d[c]=!0)}for(f();s<t.length;){a.lastIndex=s;var g=a.exec(t);if(l=o,o+=g[0],c=l+g[1],s=a.lastIndex,!(d[c]||e&&e[c]===c)){var m;if(e&&Object.prototype.hasOwnProperty.call(e,c))m=e[c];else{var y=n.lstatSync(c);if(!y.isSymbolicLink()){d[c]=!0,e&&(e[c]=c);continue}var w=null;if(!r){var b=y.dev.toString(32)+":"+y.ino.toString(32);p.hasOwnProperty(b)&&(w=p[b])}null===w&&(n.statSync(c),w=n.readlinkSync(c)),m=i.resolve(l,w),e&&(e[c]=m),r||(p[b]=w)}t=i.resolve(m,t.slice(s)),f()}}return e&&(e[u]=t),t},e.realpath=function(t,e,s){if("function"!=typeof s&&(s=function(t){return"function"==typeof t?t:function(){var t;if(o){var e=new Error;t=function(t){t&&(e.message=t.message,s(t=e))}}else t=s;return t;function s(t){if(t){if(process.throwDeprecation)throw t;if(!process.noDeprecation){var e="fs: missing callback "+(t.stack||t.message);process.traceDeprecation?console.trace(e):console.error(e)}}}}()}(e),e=null),t=i.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return process.nextTick(s.bind(null,null,e[t]));var c,l,u,p,d=t,f={},g={};function m(){var e=h.exec(t);c=e[0].length,l=e[0],u=e[0],p="",r&&!g[u]?n.lstat(u,(function(t){if(t)return s(t);g[u]=!0,y()})):process.nextTick(y)}function y(){if(c>=t.length)return e&&(e[d]=t),s(null,t);a.lastIndex=c;var i=a.exec(t);return p=l,l+=i[0],u=p+i[1],c=a.lastIndex,g[u]||e&&e[u]===u?process.nextTick(y):e&&Object.prototype.hasOwnProperty.call(e,u)?v(e[u]):n.lstat(u,w)}function w(t,i){if(t)return s(t);if(!i.isSymbolicLink())return g[u]=!0,e&&(e[u]=u),process.nextTick(y);if(!r){var o=i.dev.toString(32)+":"+i.ino.toString(32);if(f.hasOwnProperty(o))return b(null,f[o],u)}n.stat(u,(function(t){if(t)return s(t);n.readlink(u,(function(t,e){r||(f[o]=e),b(t,e)}))}))}function b(t,r,n){if(t)return s(t);var o=i.resolve(p,r);e&&(e[n]=o),v(o)}function v(e){t=i.resolve(e,t.slice(c)),m()}m()}},698:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var s=function(){};s.prototype=e.prototype,t.prototype=new s,t.prototype.constructor=t}}},718:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unescape=void 0,e.unescape=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},734:(t,e,s)=>{t.exports=w;var i=s(836),r=s(27),n=(r.Minimatch,s(17)),o=s(434).EventEmitter,a=s(928),h=s(613),c=s(641),l=s(331),u=s(293),p=u.setopts,d=u.ownProp,f=s(423),g=(s(23),u.childrenIgnored),m=u.isIgnored,y=s(519);function w(t,e,s){if("function"==typeof e&&(s=e,e={}),e||(e={}),e.sync){if(s)throw new TypeError("callback provided to sync glob");return l(t,e)}return new v(t,e,s)}w.sync=l;var b=w.GlobSync=l.GlobSync;function v(t,e,s){if("function"==typeof e&&(s=e,e=null),e&&e.sync){if(s)throw new TypeError("callback provided to sync glob");return new b(t,e)}if(!(this instanceof v))return new v(t,e,s);p(this,t,e),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),"function"==typeof s&&(s=y(s),this.on("error",s),this.on("end",(function(t){s(null,t)})));var r=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===i)return a();for(var n=!0,o=0;o<i;o++)this._process(this.minimatch.set[o],o,!1,a);function a(){--r._processing,r._processing<=0&&(n?process.nextTick((function(){r._finish()})):r._finish())}n=!1}w.glob=w,w.hasMagic=function(t,e){var s=function(t,e){if(null===e||"object"!=typeof e)return t;for(var s=Object.keys(e),i=s.length;i--;)t[s[i]]=e[s[i]];return t}({},e);s.noprocess=!0;var i=new v(t,s).minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var r=0;r<i[0].length;r++)if("string"!=typeof i[0][r])return!0;return!1},w.Glob=v,n(v,o),v.prototype._finish=function(){if(h(this instanceof v),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();u.finish(this),this.emit("end",this.found)}},v.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var t=this.matches.length;if(0===t)return this._finish();for(var e=this,s=0;s<this.matches.length;s++)this._realpathSet(s,i)}function i(){0==--t&&e._finish()}},v.prototype._realpathSet=function(t,e){var s=this.matches[t];if(!s)return e();var r=Object.keys(s),n=this,o=r.length;if(0===o)return e();var a=this.matches[t]=Object.create(null);r.forEach((function(s,r){s=n._makeAbs(s),i.realpath(s,n.realpathCache,(function(i,r){i?"stat"===i.syscall?a[s]=!0:n.emit("error",i):a[r]=!0,0==--o&&(n.matches[t]=a,e())}))}))},v.prototype._mark=function(t){return u.mark(this,t)},v.prototype._makeAbs=function(t){return u.makeAbs(this,t)},v.prototype.abort=function(){this.aborted=!0,this.emit("abort")},v.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},v.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var s=t[e];this._emitMatch(s[0],s[1])}}if(this._processQueue.length){var i=this._processQueue.slice(0);for(this._processQueue.length=0,e=0;e<i.length;e++){var r=i[e];this._processing--,this._process(r[0],r[1],r[2],r[3])}}}},v.prototype._process=function(t,e,s,i){if(h(this instanceof v),h("function"==typeof i),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([t,e,s,i]);else{for(var n,o=0;"string"==typeof t[o];)o++;switch(o){case t.length:return void this._processSimple(t.join("/"),e,i);case 0:n=null;break;default:n=t.slice(0,o).join("/")}var a,l=t.slice(o);null===n?a=".":c(n)||c(t.map((function(t){return"string"==typeof t?t:"[*]"})).join("/"))?(n&&c(n)||(n="/"+n),a=n):a=n;var u=this._makeAbs(a);if(g(this,a))return i();l[0]===r.GLOBSTAR?this._processGlobStar(n,a,u,l,e,s,i):this._processReaddir(n,a,u,l,e,s,i)}},v.prototype._processReaddir=function(t,e,s,i,r,n,o){var a=this;this._readdir(s,n,(function(h,c){return a._processReaddir2(t,e,s,i,r,n,c,o)}))},v.prototype._processReaddir2=function(t,e,s,i,r,n,o,h){if(!o)return h();for(var c=i[0],l=!!this.minimatch.negate,u=c._glob,p=this.dot||"."===u.charAt(0),d=[],f=0;f<o.length;f++)("."!==(m=o[f]).charAt(0)||p)&&(l&&!t?!m.match(c):m.match(c))&&d.push(m);var g=d.length;if(0===g)return h();if(1===i.length&&!this.mark&&!this.stat){for(this.matches[r]||(this.matches[r]=Object.create(null)),f=0;f<g;f++){var m=d[f];t&&(m="/"!==t?t+"/"+m:t+m),"/"!==m.charAt(0)||this.nomount||(m=a.join(this.root,m)),this._emitMatch(r,m)}return h()}for(i.shift(),f=0;f<g;f++)m=d[f],t&&(m="/"!==t?t+"/"+m:t+m),this._process([m].concat(i),r,n,h);h()},v.prototype._emitMatch=function(t,e){if(!this.aborted&&!m(this,e))if(this.paused)this._emitQueue.push([t,e]);else{var s=c(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=s),!this.matches[t][e]){if(this.nodir){var i=this.cache[s];if("DIR"===i||Array.isArray(i))return}this.matches[t][e]=!0;var r=this.statCache[s];r&&this.emit("stat",e,r),this.emit("match",e)}}},v.prototype._readdirInGlobStar=function(t,e){if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var s=this,i=f("lstat\0"+t,(function(i,r){if(i&&"ENOENT"===i.code)return e();var n=r&&r.isSymbolicLink();s.symlinks[t]=n,n||!r||r.isDirectory()?s._readdir(t,!1,e):(s.cache[t]="FILE",e())}));i&&s.fs.lstat(t,i)}},v.prototype._readdir=function(t,e,s){if(!this.aborted&&(s=f("readdir\0"+t+"\0"+e,s))){if(e&&!d(this.symlinks,t))return this._readdirInGlobStar(t,s);if(d(this.cache,t)){var i=this.cache[t];if(!i||"FILE"===i)return s();if(Array.isArray(i))return s(null,i)}this.fs.readdir(t,function(t,e,s){return function(i,r){i?t._readdirError(e,i,s):t._readdirEntries(e,r,s)}}(this,t,s))}},v.prototype._readdirEntries=function(t,e,s){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<e.length;i++){var r=e[i];r="/"===t?t+r:t+"/"+r,this.cache[r]=!0}return this.cache[t]=e,s(null,e)}},v.prototype._readdirError=function(t,e,s){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(t);if(this.cache[i]="FILE",i===this.cwdAbs){var r=new Error(e.code+" invalid cwd "+this.cwd);r.path=this.cwd,r.code=e.code,this.emit("error",r),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return s()}},v.prototype._processGlobStar=function(t,e,s,i,r,n,o){var a=this;this._readdir(s,n,(function(h,c){a._processGlobStar2(t,e,s,i,r,n,c,o)}))},v.prototype._processGlobStar2=function(t,e,s,i,r,n,o,a){if(!o)return a();var h=i.slice(1),c=t?[t]:[],l=c.concat(h);this._process(l,r,!1,a);var u=this.symlinks[s],p=o.length;if(u&&n)return a();for(var d=0;d<p;d++)if("."!==o[d].charAt(0)||this.dot){var f=c.concat(o[d],h);this._process(f,r,!0,a);var g=c.concat(o[d],i);this._process(g,r,!0,a)}a()},v.prototype._processSimple=function(t,e,s){var i=this;this._stat(t,(function(r,n){i._processSimple2(t,e,r,n,s)}))},v.prototype._processSimple2=function(t,e,s,i,r){if(this.matches[e]||(this.matches[e]=Object.create(null)),!i)return r();if(t&&c(t)&&!this.nomount){var n=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=a.join(this.root,t):(t=a.resolve(this.root,t),n&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),r()},v.prototype._stat=function(t,e){var s=this._makeAbs(t),i="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&d(this.cache,s)){var r=this.cache[s];if(Array.isArray(r)&&(r="DIR"),!i||"DIR"===r)return e(null,r);if(i&&"FILE"===r)return e()}var n=this.statCache[s];if(void 0!==n){if(!1===n)return e(null,n);var o=n.isDirectory()?"DIR":"FILE";return i&&"FILE"===o?e():e(null,o,n)}var a=this,h=f("stat\0"+s,(function(i,r){if(r&&r.isSymbolicLink())return a.fs.stat(s,(function(i,n){i?a._stat2(t,s,null,r,e):a._stat2(t,s,i,n,e)}));a._stat2(t,s,i,r,e)}));h&&a.fs.lstat(s,h)},v.prototype._stat2=function(t,e,s,i,r){if(s&&("ENOENT"===s.code||"ENOTDIR"===s.code))return this.statCache[e]=!1,r();var n="/"===t.slice(-1);if(this.statCache[e]=i,"/"===e.slice(-1)&&i&&!i.isDirectory())return r(null,!1,i);var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,n&&"FILE"===o?r():r(null,o,i)}},756:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.glob=e.sync=e.iterate=e.iterateSync=e.stream=e.streamSync=e.Ignore=e.hasMagic=e.Glob=e.unescape=e.escape=void 0,e.globStreamSync=l,e.globStream=u,e.globSync=p,e.globIterateSync=f,e.globIterate=g;const i=s(144),r=s(876),n=s(46);var o=s(144);Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(e,"unescape",{enumerable:!0,get:function(){return o.unescape}});var a=s(876);Object.defineProperty(e,"Glob",{enumerable:!0,get:function(){return a.Glob}});var h=s(46);Object.defineProperty(e,"hasMagic",{enumerable:!0,get:function(){return h.hasMagic}});var c=s(972);function l(t,e={}){return new r.Glob(t,e).streamSync()}function u(t,e={}){return new r.Glob(t,e).stream()}function p(t,e={}){return new r.Glob(t,e).walkSync()}async function d(t,e={}){return new r.Glob(t,e).walk()}function f(t,e={}){return new r.Glob(t,e).iterateSync()}function g(t,e={}){return new r.Glob(t,e).iterate()}Object.defineProperty(e,"Ignore",{enumerable:!0,get:function(){return c.Ignore}}),e.streamSync=l,e.stream=Object.assign(u,{sync:l}),e.iterateSync=f,e.iterate=Object.assign(g,{sync:f}),e.sync=Object.assign(p,{stream:l,iterate:f}),e.glob=Object.assign(d,{glob:d,globSync:p,sync:e.sync,globStream:u,stream:e.stream,globStreamSync:l,streamSync:e.streamSync,globIterate:g,iterate:e.iterate,globIterateSync:f,iterateSync:e.iterateSync,Glob:r.Glob,hasMagic:n.hasMagic,escape:i.escape,unescape:i.unescape}),e.glob.glob=e.glob},760:t=>{"use strict";t.exports=require("node:path")},800:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Processor=e.SubWalks=e.MatchRecord=e.HasWalkedCache=void 0;const i=s(144);class r{store;constructor(t=new Map){this.store=t}copy(){return new r(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const s=t.fullpath(),i=this.store.get(s);i?i.add(e.globString()):this.store.set(s,new Set([e.globString()]))}}e.HasWalkedCache=r;class n{store=new Map;add(t,e,s){const i=(e?2:0)|(s?1:0),r=this.store.get(t);this.store.set(t,void 0===r?i:i&r)}entries(){return[...this.store.entries()].map((([t,e])=>[t,!!(2&e),!!(1&e)]))}}e.MatchRecord=n;class o{store=new Map;add(t,e){if(!t.canReaddir())return;const s=this.store.get(t);s?s.find((t=>t.globString()===e.globString()))||s.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map((t=>[t,this.store.get(t)]))}keys(){return[...this.store.keys()].filter((t=>t.canReaddir()))}}e.SubWalks=o;class a{hasWalkedCache;matches=new n;subwalks=new o;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new r}processPatterns(t,e){this.patterns=e;const s=e.map((e=>[t,e]));for(let[t,e]of s){this.hasWalkedCache.storeWalked(t,e);const s=e.root(),r=e.isAbsolute()&&!1!==this.opts.absolute;if(s){t=t.resolve("/"===s&&void 0!==this.opts.root?this.opts.root:s);const i=e.rest();if(!i){this.matches.add(t,!0,!1);continue}e=i}if(t.isENOENT())continue;let n,o,a=!1;for(;"string"==typeof(n=e.pattern())&&(o=e.rest());){const s=t.resolve(n);t=s,e=o,a=!0}if(n=e.pattern(),o=e.rest(),a){if(this.hasWalkedCache.hasWalked(t,e))continue;this.hasWalkedCache.storeWalked(t,e)}if("string"!=typeof n)if(n===i.GLOBSTAR){(!t.isSymbolicLink()||this.follow||e.checkFollowGlobstar())&&this.subwalks.add(t,e);const s=o?.pattern(),i=o?.rest();if(o&&(""!==s&&"."!==s||i)){if(".."===s){const e=t.parent||t;i?this.hasWalkedCache.hasWalked(e,i)||this.subwalks.add(e,i):this.matches.add(e,r,!0)}}else this.matches.add(t,r,""===s||"."===s)}else n instanceof RegExp&&this.subwalks.add(t,e);else{const e=".."===n||""===n||"."===n;this.matches.add(t.resolve(n),r,e)}}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new a(this.opts,this.hasWalkedCache)}filterEntries(t,e){const s=this.subwalks.get(t),r=this.child();for(const t of e)for(const e of s){const s=e.isAbsolute(),n=e.pattern(),o=e.rest();n===i.GLOBSTAR?r.testGlobstar(t,e,o,s):n instanceof RegExp?r.testRegExp(t,n,o,s):r.testString(t,n,o,s)}return r}testGlobstar(t,e,s,i){if(!this.dot&&t.name.startsWith(".")||(e.hasMore()||this.matches.add(t,i,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){const e=s.pattern();if("string"==typeof e&&".."!==e&&""!==e&&"."!==e)this.testString(t,e,s.rest(),i);else if(".."===e){const e=t.parent||t;this.subwalks.add(e,s)}else e instanceof RegExp&&this.testRegExp(t,e,s.rest(),i)}}testRegExp(t,e,s,i){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}testString(t,e,s,i){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,i,!1))}}e.Processor=a},818:t=>{t.exports=function(t,s){for(var i=[],r=0;r<t.length;r++){var n=s(t[r],r);e(n)?i.push.apply(i,n):i.push(n)}return i};var e=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},836:(t,e,s)=>{t.exports=l,l.realpath=l,l.sync=u,l.realpathSync=u,l.monkeypatch=function(){i.realpath=l,i.realpathSync=u},l.unmonkeypatch=function(){i.realpath=r,i.realpathSync=n};var i=s(896),r=i.realpath,n=i.realpathSync,o=process.version,a=/^v[0-5]\./.test(o),h=s(674);function c(t){return t&&"realpath"===t.syscall&&("ELOOP"===t.code||"ENOMEM"===t.code||"ENAMETOOLONG"===t.code)}function l(t,e,s){if(a)return r(t,e,s);"function"==typeof e&&(s=e,e=null),r(t,e,(function(i,r){c(i)?h.realpath(t,e,s):s(i,r)}))}function u(t,e){if(a)return n(t,e);try{return n(t,e)}catch(s){if(c(s))return h.realpathSync(t,e);throw s}}},862:function(t,e,s){"use strict";var i,r=this&&this.__createBinding||(Object.create?function(t,e,s,i){void 0===i&&(i=s);var r=Object.getOwnPropertyDescriptor(e,s);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,i,r)}:function(t,e,s,i){void 0===i&&(i=s),t[i]=e[s]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||(i=function(t){return i=Object.getOwnPropertyNames||function(t){var e=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[e.length]=s);return e},i(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s=i(t),o=0;o<s.length;o++)"default"!==s[o]&&r(e,t,s[o]);return n(e,t),e});Object.defineProperty(e,"__esModule",{value:!0}),e.Note=void 0;const a=o(s(398)),h=o(s(928));class c extends a.TreeItem{constructor(t,e,s,i,r=!1,n){super(t,r?a.TreeItemCollapsibleState.Collapsed:a.TreeItemCollapsibleState.None),this.name=t,this.location=e,this.category=s,this.tags=i,this.isDirectory=r,this.command=n,this.tooltip=this.name,this.name=t,this.location=e,this.category=s,this.tags=i,this.isFolder=r,this.fullPath=h.join(e,t),this.iconPath=r?new a.ThemeIcon("folder"):a.ThemeIcon.File,this.contextValue=r?"folder":"note"}}e.Note=c},876:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Glob=void 0;const i=s(144),r=s(136),n=s(576),o=s(478),a=s(984),h="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class c{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(t,e){if(!e)throw new TypeError("glob options required");if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,r.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.includeChildMatches=!1!==e.includeChildMatches,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth="number"==typeof e.maxDepth?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&void 0!==this.absolute)throw new Error("cannot set absolute and withFileTypes:true");if("string"==typeof t&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(t=t.map((t=>t.replace(/\\/g,"/")))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map((t=>t.includes("/")?t:`./**/${t}`))}if(this.pattern=t,this.platform=e.platform||h,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,void 0!==e.nocase&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const t="win32"===e.platform?n.PathScurryWin32:"darwin"===e.platform?n.PathScurryDarwin:e.platform?n.PathScurryPosix:n.PathScurry;this.scurry=new t(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const s="darwin"===this.platform||"win32"===this.platform,a={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},c=this.pattern.map((t=>new i.Minimatch(t,a))),[l,u]=c.reduce(((t,e)=>(t[0].push(...e.set),t[1].push(...e.globParts),t)),[[],[]]);this.patterns=l.map(((t,e)=>{const s=u[e];if(!s)throw new Error("invalid pattern object");return new o.Pattern(t,s,0,this.platform)}))}async walk(){return[...await new a.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new a.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new a.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new a.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}e.Glob=c},896:t=>{"use strict";t.exports=require("fs")},897:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseClass=void 0;const s={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},i=t=>t.replace(/[[\]\\-]/g,"\\$&"),r=t=>t.join("");e.parseClass=(t,e)=>{const n=e;if("["!==t.charAt(n))throw new Error("not in a brace expression");const o=[],a=[];let h=n+1,c=!1,l=!1,u=!1,p=!1,d=n,f="";t:for(;h<t.length;){const e=t.charAt(h);if("!"!==e&&"^"!==e||h!==n+1){if("]"===e&&c&&!u){d=h+1;break}if(c=!0,"\\"!==e||u){if("["===e&&!u)for(const[e,[i,r,c]]of Object.entries(s))if(t.startsWith(e,h)){if(f)return["$.",!1,t.length-n,!0];h+=e.length,c?a.push(i):o.push(i),l=l||r;continue t}u=!1,f?(e>f?o.push(i(f)+"-"+i(e)):e===f&&o.push(i(e)),f="",h++):t.startsWith("-]",h+1)?(o.push(i(e+"-")),h+=2):t.startsWith("-",h+1)?(f=e,h+=2):(o.push(i(e)),h++)}else u=!0,h++}else p=!0,h++}if(d<h)return["",!1,0,!1];if(!o.length&&!a.length)return["$.",!1,t.length-n,!0];if(0===a.length&&1===o.length&&/^\\?.$/.test(o[0])&&!p){return[(g=2===o[0].length?o[0].slice(-1):o[0],g.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,d-n,!1]}var g;const m="["+(p?"^":"")+r(o)+"]",y="["+(p?"":"^")+r(a)+"]";return[o.length&&a.length?"("+m+"|"+y+")":o.length?m:y,l,d-n,!0]}},928:t=>{"use strict";t.exports=require("path")},949:function(t,e,s){"use strict";var i,r=this&&this.__createBinding||(Object.create?function(t,e,s,i){void 0===i&&(i=s);var r=Object.getOwnPropertyDescriptor(e,s);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(t,i,r)}:function(t,e,s,i){void 0===i&&(i=s),t[i]=e[s]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||(i=function(t){return i=Object.getOwnPropertyNames||function(t){var e=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[e.length]=s);return e},i(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var s=i(t),o=0;o<s.length;o++)"default"!==s[o]&&r(e,t,s[o]);return n(e,t),e});Object.defineProperty(e,"__esModule",{value:!0}),e.NotesViewProvider=void 0;const a=o(s(398)),h=o(s(896)),c=o(s(756)),l=o(s(928)),u=s(862);e.NotesViewProvider=class{constructor(t,e){this.notesLocation=t,this.notesExtensions=e,this._onDidChangeTreeData=new a.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.folderMap=new Map}init(){return this.refresh(),this}refresh(){this._onDidChangeTreeData.fire(void 0)}getTreeItem(t){return t}getChildren(t){return this.notesLocation?t&&t.isFolder?Promise.resolve(this.getNotes(t.fullPath,this.notesExtensions)):t?Promise.resolve([]):Promise.resolve(this.getNotes(this.notesLocation,this.notesExtensions)):Promise.resolve([])}getNotes(t,e){if(this.pathExists(t)){const s=[];try{const i=h.readdirSync(t,{withFileTypes:!0});for(const e of i)if(e.isDirectory()){l.join(t,e.name);const i=new u.Note(e.name,t,"","",!0);s.push(i)}const r=e=>new u.Note(l.basename(e),t,"","",!1,{command:"Notes.openNote",title:"",arguments:[l.join(t,e)]});let n;n="*"===e?c.sync("*",{cwd:t,nodir:!0,nocase:!0}).map(r):c.sync(`*.{${e}}`,{cwd:t,nodir:!0,nocase:!0}).map(r),s.push(...n)}catch(t){console.error("Error reading directory:",t)}return s.sort(((t,e)=>t.isFolder&&!e.isFolder?-1:!t.isFolder&&e.isFolder?1:t.name.localeCompare(e.name))),s}return[]}pathExists(t){try{h.accessSync(t)}catch(t){return!1}return!0}}},972:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ignore=void 0;const i=s(144),r=s(478),n="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";e.Ignore=class{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(t,{nobrace:e,nocase:s,noext:i,noglobstar:r,platform:o=n}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=o,this.mmopts={dot:!0,nobrace:e,nocase:s,noext:i,noglobstar:r,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(const e of t)this.add(e)}add(t){const e=new i.Minimatch(t,this.mmopts);for(let t=0;t<e.set.length;t++){const s=e.set[t],n=e.globParts[t];if(!s||!n)throw new Error("invalid pattern object");for(;"."===s[0]&&"."===n[0];)s.shift(),n.shift();const o=new r.Pattern(s,n,0,this.platform),a=new i.Minimatch(o.globString(),this.mmopts),h="**"===n[n.length-1],c=o.isAbsolute();c?this.absolute.push(a):this.relative.push(a),h&&(c?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}ignored(t){const e=t.fullpath(),s=`${e}/`,i=t.relative()||".",r=`${i}/`;for(const t of this.relative)if(t.match(i)||t.match(r))return!0;for(const t of this.absolute)if(t.match(e)||t.match(s))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(const t of this.relativeChildren)if(t.match(s))return!0;for(const t of this.absoluteChildren)if(t.match(e))return!0;return!1}}},984:(t,e,s)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobStream=e.GlobWalker=e.GlobUtil=void 0;const i=s(420),r=s(972),n=s(800);class o{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#he=[];#ce;#le;signal;maxDepth;includeChildMatches;constructor(t,e,s){if(this.patterns=t,this.path=e,this.opts=s,this.#le=s.posix||"win32"!==s.platform?"/":"\\",this.includeChildMatches=!1!==s.includeChildMatches,(s.ignore||!this.includeChildMatches)&&(this.#ce=((t,e)=>"string"==typeof t?new r.Ignore([t],e):Array.isArray(t)?new r.Ignore(t,e):t)(s.ignore??[],s),!this.includeChildMatches&&"function"!=typeof this.#ce.add))throw new Error("cannot ignore child matches, ignore lacks add() method.");this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",(()=>{this.#he.length=0})))}#ue(t){return this.seen.has(t)||!!this.#ce?.ignored?.(t)}#pe(t){return!!this.#ce?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;let t;for(this.paused=!1;!this.paused&&(t=this.#he.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#he.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}const i=t.isUnknown()||this.opts.stat?await t.lstat():t;if(this.opts.follow&&this.opts.nodir&&i?.isSymbolicLink()){const t=await i.realpath();t&&(t.isUnknown()||this.opts.stat)&&await t.lstat()}return this.matchCheckTest(i,e)}matchCheckTest(t,e){return!t||!(this.maxDepth===1/0||t.depth()<=this.maxDepth)||e&&!t.canReaddir()||this.opts.nodir&&t.isDirectory()||this.opts.nodir&&this.opts.follow&&t.isSymbolicLink()&&t.realpathCached()?.isDirectory()||this.#ue(t)?void 0:t}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}const i=t.isUnknown()||this.opts.stat?t.lstatSync():t;if(this.opts.follow&&this.opts.nodir&&i?.isSymbolicLink()){const t=i.realpathSync();t&&(t?.isUnknown()||this.opts.stat)&&t.lstatSync()}return this.matchCheckTest(i,e)}matchFinish(t,e){if(this.#ue(t))return;if(!this.includeChildMatches&&this.#ce?.add){const e=`${t.relativePosix()}/**`;this.#ce.add(e)}const s=void 0===this.opts.absolute?e:this.opts.absolute;this.seen.add(t);const i=this.opts.mark&&t.isDirectory()?this.#le:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){const e=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(e+i)}else{const e=this.opts.posix?t.relativePosix():t.relative(),s=this.opts.dotRelative&&!e.startsWith(".."+this.#le)?"."+this.#le:"";this.matchEmit(e?s+e+i:"."+i)}}async match(t,e,s){const i=await this.matchCheck(t,s);i&&this.matchFinish(i,e)}matchSync(t,e,s){const i=this.matchCheckSync(t,s);i&&this.matchFinish(i,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new n.Processor(this.opts),s)}walkCB2(t,e,s,i){if(this.#pe(t))return i();if(this.signal?.aborted&&i(),this.paused)return void this.onResume((()=>this.walkCB2(t,e,s,i)));s.processPatterns(t,e);let r=1;const n=()=>{0==--r&&i()};for(const[t,e,i]of s.matches.entries())this.#ue(t)||(r++,this.match(t,e,i).then((()=>n())));for(const t of s.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;r++;const e=t.readdirCached();t.calledReaddir()?this.walkCB3(t,e,s,n):t.readdirCB(((e,i)=>this.walkCB3(t,i,s,n)),!0)}n()}walkCB3(t,e,s,i){s=s.filterEntries(t,e);let r=1;const n=()=>{0==--r&&i()};for(const[t,e,i]of s.matches.entries())this.#ue(t)||(r++,this.match(t,e,i).then((()=>n())));for(const[t,e]of s.subwalks.entries())r++,this.walkCB2(t,e,s.child(),n);n()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new n.Processor(this.opts),s)}walkCB2Sync(t,e,s,i){if(this.#pe(t))return i();if(this.signal?.aborted&&i(),this.paused)return void this.onResume((()=>this.walkCB2Sync(t,e,s,i)));s.processPatterns(t,e);let r=1;const n=()=>{0==--r&&i()};for(const[t,e,i]of s.matches.entries())this.#ue(t)||this.matchSync(t,e,i);for(const t of s.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;r++;const e=t.readdirSync();this.walkCB3Sync(t,e,s,n)}n()}walkCB3Sync(t,e,s,i){s=s.filterEntries(t,e);let r=1;const n=()=>{0==--r&&i()};for(const[t,e,i]of s.matches.entries())this.#ue(t)||this.matchSync(t,e,i);for(const[t,e]of s.subwalks.entries())r++,this.walkCB2Sync(t,e,s.child(),n);n()}}e.GlobUtil=o,e.GlobWalker=class extends o{matches=new Set;constructor(t,e,s){super(t,e,s)}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise(((t,e)=>{this.walkCB(this.path,this.patterns,(()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)}))})),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>{if(this.signal?.aborted)throw this.signal.reason})),this.matches}},e.GlobStream=class extends o{results;constructor(t,e,s){super(t,e,s),this.results=new i.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",(()=>this.resume())),this.results.on("resume",(()=>this.resume()))}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then((()=>{this.walkCB(t,this.patterns,(()=>this.results.end()))})):this.walkCB(t,this.patterns,(()=>this.results.end())),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>this.results.end())),this.results}}}},e={},s=function s(i){var r=e[i];if(void 0!==r)return r.exports;var n=e[i]={exports:{}};return t[i].call(n.exports,n,n.exports,s),n.exports}(265);module.exports=s})();
//# sourceMappingURL=extension.js.map